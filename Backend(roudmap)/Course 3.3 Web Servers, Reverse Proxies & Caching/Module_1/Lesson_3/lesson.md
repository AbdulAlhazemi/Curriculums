## ๐ ุงููุญุฏุฉ 1: ุฎูุงุฏู ุงูููุจ ูุงููููุงุก ุงูุนูุณููู (Reverse Proxies)

### ๐ ุงูุฏุฑุณ 3: ุฅุนุฏุงุฏ Nginx ููููู ุนูุณู (Reverse Proxy)

#### ๐ง **ูุงุฐุง ุณุชุชุนูู**

  * ูุง ูู ุงููููู ุงูุนูุณู (Reverse Proxy) ุจุดูู ุนููู.
  * ุฃูู ุชูุฌุฏ ูููุงุช ุฅุนุฏุงุฏ Nginx ุงูุฑุฆูุณูุฉ.
  * ููููุฉ ุฅูุดุงุก ููู ุฅุนุฏุงุฏ ุฌุฏูุฏ ูุชุทุจูู Node.js.
  * ููููุฉ ุงุณุชุฎุฏุงู ุชูุฌูู `proxy_pass` ูุชูุฑูุฑ ุงูุทูุจุงุช.
  * ููููุฉ ุชูุนูู ุงูุฅุนุฏุงุฏ ุงูุฌุฏูุฏ ูุฅุนุงุฏุฉ ุชุญููู Nginx.

-----

### ๐ค 1. ูุง ูู ุงููููู ุงูุนูุณูุ (ูุฑุงุฌุนุฉ ุณุฑูุนุฉ)

ุงููููู ุงูุนูุณู ูู ุฎุงุฏู ูุฌูุณ ุฃูุงู ุฎุงุฏู ุงูุชุทุจููุงุช ุงูุฎุงุต ุจู. ูู ูุณุชูุจู ุฌููุน ุงูุทูุจุงุช ูู ุงูุฅูุชุฑูุชุ ูุจุฏูุงู ูู ูุนุงูุฌุชูุง ุจููุณูุ ูููู ุจุชูุฑูุฑูุง ุฅูู ุฎุงุฏู ุงูุชุทุจููุงุช (ูุซู ุชุทุจูู Express ุงูุฐู ูุนูู ุนูู ูููุฐ 3000).

**ูุฏููุง ุงูููู:** ุณูุฌุนู Nginx ูุณุชูุน ุนูู ุงููููุฐ 80 (ูููุฐ HTTP ุงูููุงุณู ุงูุฐู ูุณุชุฎุฏูู ุงููุชุตูุญ ุงูุชุฑุงุถููุง)ุ ููููู ุจุชูุฌูู ุฃู ุทูุจ ูุตู ุฅููู ุฅูู ุชุทุจูู Express ุงูุฐู ูุนูู ุนูู ุงููููุฐ 3000.

-----

### ๐ 2. ุฃูู ุชูุฌุฏ ูููุงุช ุฅุนุฏุงุฏ Nginxุ

ูู ูุนุธู ุฃูุธูุฉ ููููุณ (ูุซู Ubuntu)ุ ูุชู ุชูุธูู ูููุงุช ุฅุนุฏุงุฏ Nginx ูุงูุชุงูู:

  * **/etc/nginx/nginx.conf**: ููู ุงูุฅุนุฏุงุฏ ุงูุฑุฆูุณู. ูุงุฏุฑูุง ูุง ูุนุฏูู ูุจุงุดุฑุฉ.
  * **/etc/nginx/sites-available/**: ูุฌูุฏ ูุญุชูู ุนูู ูููุงุช ุงูุฅุนุฏุงุฏ ููู ูููุน ุฃู ุชุทุจูู ุชุฑูุฏ ุงุณุชุถุงูุชู. ููุง ูุถุน ูููุงุชูุง.
  * **/etc/nginx/sites-enabled/**: ูุฌูุฏ ูุญุชูู ุนูู **ุฑูุงุจุท ุฑูุฒูุฉ (symbolic links)** ุฅูู ูููุงุช ุงูุฅุนุฏุงุฏ ุงูููุฌูุฏุฉ ูู `sites-available` ุงูุชู ูุฑูุฏ ุชูุนูููุง.

Nginx ููุฑุฃ ููุท ุงููููุงุช ุงูููุฌูุฏุฉ ูู `sites-enabled`. ูุฐู ุงูุทุฑููุฉ ุชุณูุญ ููุง ุจุชุฌููุฒ ุฅุนุฏุงุฏุงุช ุนุฏุฉ ููุงูุน ูุชุนุทูููุง ุฃู ุชูุนูููุง ุจุณูููุฉ.

-----

### โ๏ธ 3. ูุชุงุจุฉ ููู ุงูุฅุนุฏุงุฏ

#### **ุงูุฎุทูุฉ 1: ุชุฌููุฒ ุชุทุจูู Node.js**

ุชุฃูุฏ ูู ุฃู ูุฏูู ุชุทุจูู Express ุจุณูุท ูุนูู. ููููู ุงุณุชุฎุฏุงู ุงูุชุทุจูู ูู ุงูุฏูุฑุฉ ุงูุณุงุจูุฉ. ุชุฃูุฏ ูู ุฃูู ูุนูู ุนูู ูููุฐ ุฏุงุฎูู ูุซู `3000`.

```javascript
// index.js
const express = require('express');
const app = express();
const PORT = 3000;

app.get('/', (req, res) => {
  res.send('Hello from my Express App!');
});

app.listen(PORT, () => console.log(`App listening on port ${PORT}`));
```

ูู ุจุชุดุบููู ูู ูุงูุฐุฉ ุทุฑููุฉ ูููุตูุฉ: `node index.js`.

#### **ุงูุฎุทูุฉ 2: ุฅูุดุงุก ููู ุฅุนุฏุงุฏ Nginx ุฌุฏูุฏ**

ูู ูุงูุฐุฉ ุทุฑููุฉ ุฃุฎุฑูุ ุณูููู ุจุฅูุดุงุก ููู ุฅุนุฏุงุฏ ุฌุฏูุฏ ูุชุทุจูููุง.

```bash
sudo nano /etc/nginx/sites-available/my-node-app
```

#### **ุงูุฎุทูุฉ 3: ูุชุงุจุฉ ุงูุฅุนุฏุงุฏุงุช**

ุงูุตู ุงูููุฏ ุงูุชุงูู ุฏุงุฎู ุงูููู:

```nginx
server {
    # ุงุณุชูุน ุนูู ุงููููุฐ 80 ูุทูุจุงุช HTTP
    listen 80;
    
    # ุงุณู ุงูุฎุงุฏู. localhost ููุงุณุจ ููุชุฌุงุฑุจ ุงููุญููุฉ
    # ูู ุงูุฅูุชุงุฌุ ุณุชุถุน ุงุณู ุงููุทุงู ุงูุฎุงุต ุจู ููุง (e.g., example.com)
    server_name localhost;

    # ุนูุฏ ูุตูู ุทูุจ ูููุณุงุฑ ุงูุฌุฐุฑ (/)
    location / {
        # ูุฐุง ูู ุงูุณุทุฑ ุงูุฃูู: ูู ุจุชูุฑูุฑ ุงูุทูุจ ุฅูู ุชุทุจูู Node.js
        proxy_pass http://localhost:3000;

        # ูุฐู ุงูุชุฑููุณุงุช ุงูุฅุถุงููุฉ ูููุฉ ูุชูุฑูุฑ ุงููุนูููุงุช ุงูุตุญูุญุฉ
        # ุนู ุงูุทูุจ ุงูุฃุตูู ุฅูู ุชุทุจูู Express
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

ุงุญูุธ ุงูููู ูุงุฎุฑุฌ (`Ctrl + O`, `Ctrl + X`).

-----

### โ 4. ุชูุนูู ุงูุฅุนุฏุงุฏ ุงูุฌุฏูุฏ

1.  **ุชุนุทูู ุงููููุน ุงูุงูุชุฑุงุถู (ุงุฎุชูุงุฑู ููู ููุตู ุจู):** ูุชุฌูุจ ุฃู ุชุถุงุฑุจุ ุณูููู ุจุญุฐู ุงูุฑุงุจุท ุงูุฑูุฒู ูููููุน ุงูุงูุชุฑุงุถู.
    ```bash
    sudo rm /etc/nginx/sites-enabled/default
    ```
2.  **ุชูุนูู ูููุนูุง ุงูุฌุฏูุฏ (ุฅูุดุงุก ุงูุฑุงุจุท ุงูุฑูุฒู):**
    ```bash
    sudo ln -s /etc/nginx/sites-available/my-node-app /etc/nginx/sites-enabled/
    ```
3.  **ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช ูุฅุนุงุฏุฉ ุงูุชุญููู:**
      * ุฃููุงูุ ุชุญูู ุฏุงุฆููุง ูู ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ุฅููุงุฆูุฉ ูู ูููุงุช ุงูุฅุนุฏุงุฏ:
        ```bash
        sudo nginx -t
        ```
        ูุฌุจ ุฃู ุชุฑู ุฑุณุงูุฉ `syntax is ok` ู `test is successful`.
      * ุฅุฐุง ูุงู ูู ุดูุก ุนูู ูุง ูุฑุงูุ ูู ุจุชุทุจูู ุงูุชุบููุฑุงุช ุนู ุทุฑูู ุฅุนุงุฏุฉ ุชุญููู Nginx:
        ```bash
        sudo systemctl reload nginx
        ```

-----