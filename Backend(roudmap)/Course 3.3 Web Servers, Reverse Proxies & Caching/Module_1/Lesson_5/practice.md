### 🛠️ تمرين عملي
لتطبيق هذا عمليًا، نحتاج إلى تشغيل نسختين من تطبيقنا على منفذين مختلفين. (في بيئة الإنتاج، غالبًا ما نستخدم أداة مثل `pm2` لهذا الغرض).

1.  **جهّز تطبيقك:** عدّل تطبيق Express الخاص بك ليقرأ المنفذ من متغير بيئة، وقم بتعديل رسالة الاستجابة لتعرض رقم المنفذ: `res.send(\`Response from server on port: ${PORT}\`);`.
2.  **شغل نسختين:** في طرفيتين منفصلتين، شغل نسختين من تطبيقك:
    * `PORT=3001 node index.js`
    * `PORT=3002 node index.js`
3.  **عدّل إعدادات Nginx:**
    * أنشئ كتلة `upstream my_app` تحتوي على الخادمين: `localhost:3001` و `localhost:3002`.
    * في كتلة `server`، قم بتغيير `proxy_pass` ليشير إلى `http://my_app`.
4.  **أعد تحميل Nginx:** `sudo systemctl reload nginx`.
5.  **اختبر:** افتح متصفحك واذهب إلى `http://localhost`. قم بتحديث الصفحة عدة مرات. يجب أن تلاحظ أن رقم المنفذ في الاستجابة يتغير بين `3001` و `3002`.

---