## 🌐 الوحدة 1: خوادم الويب والوكلاء العكسيون (Reverse Proxies)

### 📘 الدرس 2: مقدمة في Nginx (نسخة منقحة)

#### 🧠 **ماذا ستتعلم**
* ما هو Nginx ولماذا هو شائع جدًا.
* الأدوار الرئيسية التي يمكن لـ Nginx لعبها: خادم ويب، وكيل عكسي، وموازن أحمال.
* لماذا يتميز Nginx بأدائه العالي (بنية معالجة الأحداث).
* كيفية التحقق من حالة Nginx والتفاعل معه في بيئة العمل.

---
### 🤔 1. ما هو Nginx؟
Nginx (تُنطق "Engine-X") هو خادم ويب مفتوح المصدر وعالي الأداء. تم إنشاؤه في الأصل لحل "مشكلة C10k" - أي التعامل مع عشرة آلاف اتصال متزامن بكفاءة. اليوم، هو أكثر من مجرد خادم ويب ويشتهر باستقراره، ميزاته الغنية، إعداده البسيط، واستهلاكه المنخفض للموارد.

---
### 🎩 2. الأدوار المتعددة لـ Nginx
يمكن لـ Nginx أن يرتدي عدة "قبعات" مختلفة، مما يجعله أداة مرنة للغاية.

#### **أ. خادم ويب (Web Server)**
هذه هي وظيفته الأساسية. هو ممتاز في خدمة الملفات الثابتة (HTML, CSS, صور) مباشرة للعميل بسرعة وكفاءة لا تضاهى.

#### **ب. وكيل عكسي (Reverse Proxy)**
هذا هو الاستخدام الأكثر شيوعًا له في بيئة Node.js. يجلس Nginx "أمام" تطبيق Node.js الخاص بك ويقوم بتمرير الطلبات إليه، مما يوفر طبقة من الحماية والأداء.

#### **ج. موازن أحمال (Load Balancer)**
عندما ينمو تطبيقك، يمكن لـ Nginx توزيع الطلبات الواردة بالتساوي على عدة نسخ من تطبيقك، مما يزيد من الأداء ويضمن استمرارية الخدمة.

> **ببساطة:** تخيل Nginx كموظف استقبال في عيادة كبيرة بها عدة أطباء (نسخ من تطبيقك). يستقبل الموظف جميع المرضى القادمين (الطلبات) ويوجه كل مريض إلى الطبيب المتاح التالي، مما يضمن توزيع العمل بكفاءة.

---
### ⚡ 3. سر سرعة Nginx
على عكس الخوادم القديمة، يعمل Nginx بـ **بنية غير متزامنة وموجهة بالأحداث (asynchronous, event-driven)**. يستخدم عددًا صغيرًا من عمليات العمال (worker processes)، وكل عملية يمكنها التعامل مع آلاف الاتصالات في وقت واحد بكفاءة عالية واستهلاك ذاكرة منخفض جدًا.
> **ملاحظة:** هذه البنية تشبه إلى حد كبير حلقة الأحداث (Event Loop) في Node.js، وهذا أحد الأسباب التي تجعلهما يعملان معًا بشكل جيد جدًا.

---
### 🔧 4. بيئة العمل الخاصة بك
في منصتنا التعليمية، يأتي Nginx مثبتًا ومعدًا للعمل مسبقًا. لا تحتاج إلى القيام بأي خطوات تثبيت. بدلاً من ذلك، يمكنك التفاعل مع خدمة Nginx باستخدام الأوامر التالية في الطرفية:

* **للتحقق من حالة الخدمة:**
  ```bash
  sudo systemctl status nginx
  ```
* **لبدء الخدمة (إذا كانت متوقفة):**
  ```bash
  sudo systemctl start nginx
  ```
* **لإيقاف الخدمة:**
  ```bash
  sudo systemctl stop nginx
  ```
* **لإعادة تحميل الإعدادات (بعد إجراء تغييرات على ملفات الإعداد):**
  هذا هو الأمر المفضل لتطبيق التغييرات دون إيقاف الخادم.
  ```bash
  sudo systemctl reload nginx
  ```
**للتحقق من أنه يعمل:** افتح متصفحك داخل بيئة العمل واذهب إلى `http://localhost`. يجب أن ترى صفحة "Welcome to Nginx!".

---
