## ๐ณ ุงููุญุฏุฉ 1: ุฃุณุงุณูุงุช Docker ูุงูุญุงููุงุช

### ๐ ุงูุฏุฑุณ 8: ููุฏูุฉ ูู Docker Compose

#### ๐ง **ูุงุฐุง ุณุชุชุนูู**
* ูุง ูู Docker Compose ูุงููุดููุฉ ุงูุชู ูุญููุง.
* ูููู ููู `docker-compose.yml`.
* ููููุฉ ุชุนุฑูู ุฎุฏูุงุช ูุชุนุฏุฏุฉ (ูุซู ุชุทุจูู ููุงุนุฏุฉ ุจูุงูุงุช) ูู ููู ูุงุญุฏ.
* ุฃูุงูุฑ `docker-compose` ุงูุฃุณุงุณูุฉ (`up` ู `down`).

---
### ๐ค 1. ุงููุดููุฉ: ุฅุฏุงุฑุฉ ุนุฏุฉ ุญุงููุงุช
ุชุทุจููุงุช ุงูููุจ ุงูุญููููุฉ ูุงุฏุฑูุง ูุง ุชุชููู ูู ุญุงููุฉ ูุงุญุฏุฉ. ุนุงุฏุฉู ูุง ูููู ูุฏูู ุนูู ุงูุฃูู:
* ุญุงููุฉ ูุชุทุจูู ุงูููุจ (Node.js).
* ุญุงููุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช (PostgreSQL).
* ูุฏ ูููู ูุฏูู ุญุงููุฉ ูู Redis (ููุชุฎุฒูู ุงููุคูุช)ุ ูุญุงููุงุช ุฃุฎุฑู.

ุฅุฏุงุฑุฉ ูู ูุฐู ุงูุญุงููุงุช ูุฏูููุง ุจุงุณุชุฎุฏุงู ุฃูุงูุฑ `docker run` ุงูุทูููุฉ ุฃูุฑ ูุนูุฏ ูุตุนุจ:
1.  ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุดุจูุฉ Docker ูุฏููุฉ ูุชูููู ุงูุญุงููุงุช ูู ุงูุชุญุฏุซ ูุน ุจุนุถูุง ุงูุจุนุถ.
2.  ุชุญุชุงุฌ ุฅูู ุชุดุบูู ูู ุญุงููุฉ ุจุงูุฃูุฑ ุงูุตุญูุญ ูุงูุฎูุงุฑุงุช ุงูุตุญูุญุฉ (ุฑุจุท ุงูููุงูุฐุ ุงููุญุฏุงุช ุงูุชุฎุฒูููุฉุ ูุชุบูุฑุงุช ุงูุจูุฆุฉ).
3.  ุชุญุชุงุฌ ุฅูู ุชุฐูุฑ ุชุฑุชูุจ ุชุดุบูููุง ูุฅููุงููุง.

ูุฐุง ุฃูุฑ ูุฑูู ุฌุฏูุง ููุนุฑุถ ููุฎุทุฃ.

---
### ๐ก 2. ุงูุญู: Docker Compose
**Docker Compose** ูู ุฃุฏุงุฉ ูุชุญุฏูุฏ ูุชุดุบูู **ุชุทุจููุงุช Docker ูุชุนุฏุฏุฉ ุงูุญุงููุงุช**. ุฃูุช ุชุณุชุฎุฏู ููููุง ุจุตูุบุฉ **YAML** ููุตู ุฌููุน ุฎุฏูุงุช ุชุทุจูููุ ุดุจูุงุชูุ ููุญุฏุงุชู ุงูุชุฎุฒูููุฉ. ุซูุ ุจุฃูุฑ ูุงุญุฏ ุจุณูุทุ ููููู ุฅูุดุงุก ูุจุฏุก ุฌููุน ูุฐู ุงูุฎุฏูุงุช ูุนูุง.

> **ุจุจุณุงุทุฉ:** ุฅุฐุง ูุงู ุชุดุบูู ุญุงููุฉ ูุงุญุฏุฉ ูุฏูููุง ูุดุจู ุทูู ุทุจู ูุงุญุฏุ ูุฅู ุงุณุชุฎุฏุงู Docker Compose ูุดุจู ูุฌูุฏ **ูุตูุฉ ุฑุฆูุณูุฉ ููุฌุจุฉ ูุงููุฉ ูุชุนุฏุฏุฉ ุงูุฃุทุจุงู**. ุงููุตูุฉ ุชุฎุจุฑู ุจุงูุถุจุท ูุง ูู ุงูุฃุทุจุงูุ ููููุงุชูุงุ ูููููุฉ ุทูููุง ูุนูุง ูู ููุณ ุงูููุช.

---
### ๐ 3. ููู `docker-compose.yml`
ูุฐุง ูู ุงูููู ุงูุฐู ูุตู ุชุทุจููู ูุชุนุฏุฏ ุงูุญุงููุงุช ุจุงููุงูู. ููุฑู ูุซุงูุงู ูุชุดุบูู ุชุทุจูู Express ูุน ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL.

```yaml
# ุชุญุฏูุฏ ุฅุตุฏุงุฑ ุตูุบุฉ Compose (ุงุฎุชูุงุฑู ูู ุงูุฅุตุฏุงุฑุงุช ุงูุญุฏูุซุฉ)
version: '3.8'

# ุชุนุฑูู ุฌููุน ุงูุฎุฏูุงุช (ุงูุญุงููุงุช) ุงูุชู ูุชููู ูููุง ุชุทุจูููุง
services:

  # ุงูุฎุฏูุฉ ุงูุฃููู: ุชุทุจูู Node.js
  app:
    # ุจุฏูุงู ูู ุงุณุชุฎุฏุงู ุตูุฑุฉ ุฌุงูุฒุฉุ ุงุทูุจ ูู Compose ุจูุงุก ุงูุตูุฑุฉ
    # ูู Dockerfile ุงูููุฌูุฏ ูู ุงููุฌูุฏ ุงูุญุงูู (.).
    build: .
    ports:
      # ุงุฑุจุท ุงููููุฐ 3000 ุนูู ุฌูุงุฒู ุจุงููููุฐ 3000 ุฏุงุฎู ุงูุญุงููุฉ
      - "3000:3000"
    volumes:
      # ุงุฑุจุท ุงูููุฏ ุงููุญูู ูุชูุนูู ุงูุชุญุฏูุซ ุงููุจุงุดุฑ
      - .:/app
    environment:
      # ูุฑุฑ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูุชู ูุญุชุงุฌูุง ุงูุชุทุจูู ููุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
      - DB_HOST=db # 'db' ูู ุงุณู ุฎุฏูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃุฏูุงู
      - DB_USER=postgres
      - DB_PASSWORD=mysecretpassword
      - DB_NAME=mydb
    # ุงุฌุนู ูุฐู ุงูุฎุฏูุฉ ูุง ุชุจุฏุฃ ุฅูุง ุจุนุฏ ุฃู ุชุจุฏุฃ ุฎุฏูุฉ 'db'
    depends_on:
      - db

  # ุงูุฎุฏูุฉ ุงูุซุงููุฉ: ูุงุนุฏุฉ ุจูุงูุงุช PostgreSQL
  db:
    # ุงุณุชุฎุฏู ุตูุฑุฉ postgres ุงูุฑุณููุฉ
    image: postgres:14-alpine
    environment:
      # ุฅุนุฏุงุฏุงุช ูุฅูุดุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุณุชุฎุฏู ุชููุงุฆููุง
      - POSTGRES_PASSWORD=mysecretpassword
      - POSTGRES_USER=postgres
      - POSTGRES_DB=mydb
    volumes:
      # ุญุงูุธ ุนูู ุจูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ุฏุงุฆู
      - postgres-data:/var/lib/postgresql/data

# ุชุนุฑูู ุงููุญุฏุงุช ุงูุชุฎุฒูููุฉ ุงูููุฏุงุฑุฉ ุจูุงุณุทุฉ Docker
volumes:
  postgres-data:
```
**ููุทุฉ ูููุฉ:** ุฏุงุฎู ุดุจูุฉ Composeุ ูููู ููุญุงููุงุช ุงููุตูู ุฅูู ุจุนุถูุง ุงูุจุนุถ ุจุงุณุชุฎุฏุงู **ุงุณู ุงูุฎุฏูุฉ** ูุงุณู ูุถูู (hostname). ููุฐุง ุงูุณุจุจุ ูููุง ุจุชุนููู `DB_HOST=db`.

---
### โถ๏ธ 4. ุฃูุงูุฑ Docker Compose
* **`docker-compose up`**:
    ุงูุฃูุฑ ุงูุฑุฆูุณู ุงูุฐู ูููู ุจุจูุงุก (ุฅุฐุง ูุฒู ุงูุฃูุฑ)ุ ุฅูุดุงุกุ ูุจุฏุก ุฌููุน ุงูุฎุฏูุงุช ุงููุญุฏุฏุฉ ูู ููู `docker-compose.yml`.
    * ุฃุถู `-d` ูุชุดุบูู ุงูุญุงููุงุช ูู ุงูุฎูููุฉ: `docker-compose up -d`.
* **`docker-compose down`**:
    ูููู ุจุฅููุงู ูุญุฐู ุงูุญุงููุงุช ูุงูุดุจูุงุช ุงูุชู ุฃูุดุฃูุง `up`.
* **`docker-compose logs -f [service_name]`**:
    ูุนุฑุถ ุณุฌูุงุช ุฎุฏูุฉ ูุนููุฉ ูู ุงูููุช ุงููุนูู (ูุซู `docker-compose logs -f app`).
* **`docker-compose build`**:
    ูุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑ ูุฏูููุง ุฅุฐุง ููุช ุจุชุบููุฑ `Dockerfile`.

---
