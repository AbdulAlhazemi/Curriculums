## 🐳 الوحدة 1: أساسيات Docker والحاويات

### 📘 الدرس 4: أوامر Docker الأساسية

#### 🧠 **ماذا ستتعلم**
* كيفية تشغيل حاوية من صورة موجودة باستخدام `docker run`.
* كيفية عرض الحاويات قيد التشغيل وجميع الحاويات باستخدام `docker ps`.
* كيفية عرض الصور المخزنة محليًا باستخدام `docker images`.
* كيفية إيقاف وحذف الحاويات (`docker stop`, `docker rm`).
* مقدمة سريعة لأمر بناء الصور `docker build`.

---
### 🔄 1. دورة حياة أوامر Docker
التدفق النموذجي للعمل مع Docker هو:
1.  تحصل على **صورة (Image)** إما عن طريق سحبها من مستودع (`docker pull`) أو بنائها من `Dockerfile` (`docker build`).
2.  تقوم بـ **تشغيل (run)** هذه الصورة لإنشاء **حاوية (Container)**.
3.  تستخدم `docker ps` لرؤية الحاويات قيد التشغيل.
4.  تقوم بـ **إيقاف (stop)** الحاوية عند الانتهاء منها.
5.  تقوم بـ **حذف (rm)** الحاوية التي تم إيقافها لتنظيف النظام.

---
### ⚙️ 2. الأوامر الأساسية

#### **🖼️ أ. عرض الصور: `docker images`**
يعرض هذا الأمر قائمة بجميع صور Docker المخزنة على جهازك المحلي.
```bash
docker images
```
ستظهر لك أعمدة مثل `REPOSITORY` (اسم الصورة)، `TAG` (الإصدار)، `IMAGE ID`، و `SIZE`.

#### **▶️ ب. تشغيل حاوية: `docker run`**
هذا هو الأمر الأهم والأكثر استخدامًا. هو يقوم بإنشاء وبدء حاوية جديدة من صورة معينة. إذا لم تكن الصورة موجودة محليًا، سيقوم Docker تلقائيًا بمحاولة سحبها من Docker Hub.

**أشهر الخيارات:**
* `-d` أو `--detach`: لتشغيل الحاوية في الخلفية (detached mode).
* `-p` أو `--publish`: لربط منفذ من جهازك المضيف بمنفذ داخل الحاوية. الصيغة هي `host_port:container_port`.
* `--name`: لإعطاء الحاوية اسمًا مميزًا وسهل التذكر.

**مثال:** لنقم بتشغيل خادم ويب Nginx.
```bash
# شغل حاوية في الخلفية، اربط المنفذ 8080 على جهازي بالمنفذ 80 داخل الحاوية،
# أعطها اسم my-web-server، واستخدم صورة nginx الرسمية.
docker run -d -p 8080:80 --name my-web-server nginx
```
الآن إذا زرت `http://localhost:8080` في متصفحك، سترى صفحة Nginx الترحيبية!

#### **📋 ج. عرض الحاويات: `docker ps`**
يعرض هذا الأمر قائمة بجميع الحاويات **قيد التشغيل حاليًا**.
```bash
docker ps
```
> **نصيحة هامة:** لعرض **جميع** الحاويات، بما في ذلك تلك التي تم إيقافها، استخدم الخيار `-a`.
> ```bash
> docker ps -a
> ```

#### **🛑 د. إيقاف حاوية: `docker stop`**
يقوم بإيقاف حاوية واحدة أو أكثر قيد التشغيل. يمكنك استخدام اسم الحاوية أو معرفها (ID).
```bash
docker stop my-web-server
```

#### **🗑️ هـ. حذف حاوية: `docker rm`**
يقوم بحذف حاوية واحدة أو أكثر **بعد إيقافها**. لا يمكنك حذف حاوية لا تزال تعمل.
```bash
docker rm my-web-server
```

#### **🏗️ و. بناء صورة (مقدمة): `docker build`**
يستخدم هذا الأمر لبناء صورة Docker جديدة من `Dockerfile`.
```bash
# -t لتعيين اسم و "وسم" (tag) للصورة.
# . تعني أن الـ Dockerfile موجود في المجلد الحالي.
docker build -t my-custom-app:1.0 .
```
سنتناول هذا الأمر بالتفصيل في الدرس القادم.

---
