## ðŸ³ Ø§Ù„ÙˆØ­Ø¯Ø© 1: Ø£Ø³Ø§Ø³ÙŠØ§Øª Docker ÙˆØ§Ù„Ø­Ø§ÙˆÙŠØ§Øª

### ðŸ“˜ Ø§Ù„Ø¯Ø±Ø³ 10: Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Node.js

#### ðŸ§  **Ù…Ø§Ø°Ø§ Ø³ØªØªØ¹Ù„Ù…**
* ÙƒÙŠÙÙŠØ© Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ØµØºØ± Ø­Ø¬Ù… ØµÙˆØ± Docker.
* ÙƒÙŠÙÙŠØ© ØªØ­Ø³ÙŠÙ† Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ø¨ÙØ¹Ø§Ù„ÙŠØ©.
* ÙƒÙŠÙÙŠØ© ÙƒØªØ§Ø¨Ø© `Dockerfile` Ø£ÙƒØ«Ø± Ø£Ù…Ø§Ù†Ù‹Ø§.
* ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ù„Ø³ (Graceful Shutdown) Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª.
* ÙØ§Ø¦Ø¯Ø© ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ (Multi-stage Builds).

---
### ðŸŽ¯ 1. Ø§Ù„Ù‡Ø¯Ù: ØµÙˆØ± Ø£ØµØºØ±ØŒ Ø£Ø³Ø±Ø¹ØŒ ÙˆØ£ÙƒØ«Ø± Ø£Ù…Ø§Ù†Ù‹Ø§
Ù…Ù† Ø§Ù„Ø³Ù‡Ù„ Ø¨Ù†Ø§Ø¡ ØµÙˆØ±Ø© Docker "ØªØ¹Ù…Ù„". Ù„ÙƒÙ† Ø¨Ù†Ø§Ø¡ ØµÙˆØ±Ø© **Ø¬ÙŠØ¯Ø©** â€” ØµØºÙŠØ±Ø© Ø§Ù„Ø­Ø¬Ù…ØŒ Ø³Ø±ÙŠØ¹Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ØŒ ÙˆØ¢Ù…Ù†Ø© â€” ÙŠØªØ·Ù„Ø¨ Ø§ØªØ¨Ø§Ø¹ Ø¨Ø¹Ø¶ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„ØªÙŠ ÙŠØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø§Ù„Ù…Ø­ØªØ±ÙÙˆÙ†.

---
### âœ¨ 2. Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

#### **1. Ø­Ø§ÙØ¸ Ø¹Ù„Ù‰ ØµØºØ± Ø­Ø¬Ù… Ø§Ù„ØµÙˆØ±**
* **Ù„Ù…Ø§Ø°Ø§ØŸ** Ø§Ù„ØµÙˆØ± Ø§Ù„Ø£ØµØºØ± ÙŠØªÙ… Ø³Ø­Ø¨Ù‡Ø§ (pull) ÙˆØ¯ÙØ¹Ù‡Ø§ (push) Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø±Ø¹ØŒ Ù…Ù…Ø§ ÙŠØ³Ø±Ø¹ Ù…Ù† Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù†Ø´Ø±. ÙƒÙ…Ø§ Ø£Ù†Ù‡Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù…ÙƒÙˆÙ†Ø§Øª Ø£Ù‚Ù„ØŒ Ù…Ù…Ø§ ÙŠÙ‚Ù„Ù„ Ù…Ù† Ù…Ø³Ø§Ø­Ø© Ø§Ù„Ù‡Ø¬ÙˆÙ… Ø§Ù„Ø£Ù…Ù†ÙŠ.
* **ÙƒÙŠÙØŸ**
    * **Ø§Ø³ØªØ®Ø¯Ù… ØµÙˆØ± Ø£Ø³Ø§Ø³ÙŠØ© ØµØºÙŠØ±Ø©:** Ø¯Ø§Ø¦Ù…Ù‹Ø§ ÙØ¶Ù„ Ø§Ù„ØµÙˆØ± Ø§Ù„ØªÙŠ ØªØ³ØªØ®Ø¯Ù… ØªÙˆØ²ÙŠØ¹Ø© `alpine` (Ù…Ø«Ù„ `node:20-alpine`) Ù„Ø£Ù†Ù‡Ø§ Ø£ØµØºØ± Ø¨ÙƒØ«ÙŠØ± Ù…Ù† Ø§Ù„ØµÙˆØ± Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ©.
    * **Ø§Ø³ØªØ®Ø¯Ù… Ù…Ù„Ù `.dockerignore`:** ØªÙ…Ø§Ù…Ù‹Ø§ Ù…Ø«Ù„ `.gitignore`ØŒ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØ®Ø¨Ø± Docker Ø¨ØªØ¬Ø§Ù‡Ù„ Ù…Ù„ÙØ§Øª ÙˆÙ…Ø¬Ù„Ø¯Ø§Øª Ù…Ø¹ÙŠÙ†Ø© Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡ (Ù…Ø«Ù„ `node_modules`, `.git`, `npm-debug.log`). Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø¹ ØªØ³Ø±Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª ØºÙŠØ± Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© ÙˆØ§Ù„Ø£Ø³Ø±Ø§Ø± Ø¥Ù„Ù‰ ØµÙˆØ±ØªÙƒ.

#### **2. Ø­Ø³Ù‘Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø°Ø§ÙƒØ±Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø¤Ù‚Øª Ù„Ù„Ø¨Ù†Ø§Ø¡**
* **Ù„Ù…Ø§Ø°Ø§ØŸ** ØªØ³Ø±ÙŠØ¹ Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ·ÙˆÙŠØ±.
* **ÙƒÙŠÙØŸ** ØªØ±ØªÙŠØ¨ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª ÙÙŠ `Dockerfile` Ù…Ù‡Ù… Ø¬Ø¯Ù‹Ø§. Ø¶Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„ØªÙŠ ØªØªØºÙŠØ± Ø¨Ø´ÙƒÙ„ Ù†Ø§Ø¯Ø± ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ØŒ ÙˆØªÙ„Ùƒ Ø§Ù„ØªÙŠ ØªØªØºÙŠØ± Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø± ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„.
    ```dockerfile
    # ØªØªØºÙŠØ± Ù†Ø§Ø¯Ø±Ù‹Ø§ØŒ Ø³ÙŠØªÙ… ØªØ®Ø²ÙŠÙ†Ù‡Ø§ Ù…Ø¤Ù‚ØªÙ‹Ø§
    FROM node:20-alpine
    WORKDIR /app
    COPY package*.json ./
    RUN npm ci --only=production

    # ÙŠØªØºÙŠØ± Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±ØŒ Ø¶Ø¹Ù‡ ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
    COPY . .

    CMD [ "node", "index.js" ]
    ```

#### **3. Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Ø­Ù„ (Multi-stage Builds)**
* **Ù„Ù…Ø§Ø°Ø§ØŸ** Ù„ÙØµÙ„ Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ø¹Ù† Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ØŒ Ù…Ù…Ø§ ÙŠÙ†ØªØ¬ Ø¹Ù†Ù‡ ØµÙˆØ±Ø© Ù†Ù‡Ø§Ø¦ÙŠØ© ØµØºÙŠØ±Ø© Ø¬Ø¯Ù‹Ø§ ÙˆØ¢Ù…Ù†Ø©.
* **ÙƒÙŠÙØŸ** Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù‚Ø¯ ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ `devDependencies` ÙˆØ£Ø¯ÙˆØ§Øª Ø£Ø®Ø±Ù‰. Ø¨ÙŠØ¦Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ØªØ­ØªØ§Ø¬ ÙÙ‚Ø· Ø¥Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ ÙˆØ§Ù„Ù€ `dependencies`. Ù†Ø³ØªØ®Ø¯Ù… `Dockerfile` ÙˆØ§Ø­Ø¯ Ù…Ø¹ Ù…Ø±Ø­Ù„ØªÙŠÙ†.
    ```dockerfile
    # --- Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: Ø§Ù„Ø¨Ù†Ø§Ø¡ (Builder) ---
    FROM node:20-alpine AS builder
    WORKDIR /app
    COPY package*.json ./
    # ØªØ«Ø¨ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ù„Ù„Ø¨Ù†Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
    RUN npm ci
    COPY . .
    # Ù‚Ø¯ ØªÙ‚ÙˆÙ… Ù‡Ù†Ø§ Ø¨ØªØ´ØºÙŠÙ„ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø£Ùˆ Ø¨Ù†Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Ø£Ù…Ø§Ù…ÙŠØ©
    # RUN npm test

    # --- Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„Ø¥Ù†ØªØ§Ø¬ (Production) ---
    FROM node:20-alpine
    WORKDIR /app
    # Ø§Ù†Ø³Ø® ÙÙ‚Ø· Ø§Ù„ØªØ¨Ø¹ÙŠØ§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ÙŠØ© Ù…Ù† Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¨Ù†Ø§Ø¡
    COPY --from=builder /app/node_modules ./node_modules
    COPY --from=builder /app/package*.json ./
    COPY --from=builder /app .
    
    EXPOSE 3000
    CMD [ "node", "index.js" ]
    ```
    Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ØªØ­ØªÙˆÙŠ ÙÙ‚Ø· Ø¹Ù„Ù‰ Ù…Ø§ Ù‡Ùˆ Ø¶Ø±ÙˆØ±ÙŠ Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚.

#### **4. Ø´ØºÙ‘Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ© ÙƒÙ…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ø¬Ø°Ø±ÙŠ (Non-Root User)**
* **Ù„Ù…Ø§Ø°Ø§ØŸ** Ù„Ù„Ø£Ù…Ø§Ù†. ØªØ´ØºÙŠÙ„ Ø§Ù„Ø­Ø§ÙˆÙŠØ© ÙƒÙ…Ø³ØªØ®Ø¯Ù… `root` (ÙˆÙ‡Ùˆ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ) ÙŠÙ…Ø«Ù„ Ø®Ø·Ø±Ù‹Ø§ Ø£Ù…Ù†ÙŠÙ‹Ø§. Ø¥Ø°Ø§ ØªÙ…ÙƒÙ† Ù…Ù‡Ø§Ø¬Ù… Ù…Ù† Ø§Ø®ØªØ±Ø§Ù‚ ØªØ·Ø¨ÙŠÙ‚ÙƒØŒ ÙØ³ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙ‡ ØµÙ„Ø§Ø­ÙŠØ§Øª `root` Ø¯Ø§Ø®Ù„ Ø§Ù„Ø­Ø§ÙˆÙŠØ©.
* **ÙƒÙŠÙØŸ** Ø£Ù†Ø´Ø¦ Ù…Ø³ØªØ®Ø¯Ù…Ù‹Ø§ Ø¬Ø¯ÙŠØ¯Ù‹Ø§ Ø¯Ø§Ø®Ù„ `Dockerfile` ÙˆÙ‚Ù… Ø¨Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¥Ù„ÙŠÙ‡.
    ```dockerfile
    # ... Ø¨Ø¹Ø¯ Ù†Ø³Ø® Ø§Ù„Ù…Ù„ÙØ§Øª
    RUN addgroup -S appgroup && adduser -S appuser -G appgroup
    USER appuser
    
    CMD [ "node", "index.js" ]
    ```

#### **5. ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ù„Ø³ (Graceful Shutdowns)**
* **Ù„Ù…Ø§Ø°Ø§ØŸ** Ø¹Ù†Ø¯Ù…Ø§ ØªÙ‚ÙˆÙ… Ø¨ØªÙ†ÙÙŠØ° `docker stop`ØŒ ÙŠØ±Ø³Ù„ Docker Ø¥Ø´Ø§Ø±Ø© `SIGTERM` Ø¥Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ÙƒØŒ Ù…Ù…Ø§ ÙŠÙ…Ù†Ø­Ù‡ ÙØ±ØµØ© Ù„Ù„Ø¥ØºÙ„Ø§Ù‚ Ø¨Ø´ÙƒÙ„ Ù†Ø¸ÙŠÙ (Ù…Ø«Ù„ Ø¥ØºÙ„Ø§Ù‚ Ø§ØªØµØ§Ù„Ø§Øª Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª). Ø¥Ø°Ø§ Ù„Ù… ÙŠØ³ØªØ¬Ø¨ ØªØ·Ø¨ÙŠÙ‚ÙƒØŒ Ø³ÙŠÙ‚ÙˆÙ… Docker Ø¨Ù‚ØªÙ„Ù‡ Ø¨Ø§Ù„Ù‚ÙˆØ© Ø¨Ø¹Ø¯ 10 Ø«ÙˆØ§Ù†Ù (`SIGKILL`).
* **ÙƒÙŠÙØŸ** ÙÙŠ ÙƒÙˆØ¯ Node.jsØŒ Ø§Ø³ØªÙ…Ø¹ Ø¥Ù„Ù‰ Ø¥Ø´Ø§Ø±Ø© `SIGTERM` ÙˆØ£ØºÙ„Ù‚ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­.
    ```javascript
    // ÙÙŠ Ù…Ù„Ù index.js
    const server = app.listen(...);

    process.on('SIGTERM', () => {
      console.log('SIGTERM signal received: closing HTTP server');
      server.close(() => {
        console.log('HTTP server closed');
        // Ø£ØºÙ„Ù‚ Ø§ØªØµØ§Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§
        process.exit(0);
      });
    });
    ```
---