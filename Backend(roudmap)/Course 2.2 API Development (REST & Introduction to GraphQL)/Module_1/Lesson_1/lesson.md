## 🌐 الوحدة 1: مبادئ وتصميم واجهات RESTful API

### 📘 الدرس 1: الغوص في مبادئ REST

#### 🧠 **ماذا ستتعلم**
* ما هو REST (نمط معماري وليس بروتوكول).
* المبادئ الأساسية التي تعرف واجهة برمجة التطبيقات الـ "RESTful".
* مفهوم المورد (Resource)، انعدام الحالة (Statelessness)، والواجهة الموحدة (Uniform Interface).
* كيف ترتبط هذه المفاهيم بتصميم API عملي وفعال.

---
### 🤔 1. ما هو REST؟ ليس مجرد API
أولاً، من المهم أن نعرف أن REST (**RE**presentational **S**tate **T**ransfer) ليس بروتوكولاً أو معيارًا صارمًا مثل HTTP. بل هو **نمط معماري (Architectural Style)**، أي مجموعة من المبادئ والقيود التي إذا تم اتباعها عند تصميم API، فإنها تجعله قابلاً للتطوير، مرنًا، وسهل الفهم.

عندما تتبع واجهة برمجة التطبيقات هذه المبادئ، نصفها بأنها **"RESTful"**.

> **ببساطة:** REST ليس لغة برمجة، بل هو **"قواعد النحو"** لتصميم الـ APIs. عندما يتبع الجميع نفس القواعد، يصبح التواصل بين الأنظمة المختلفة (مثل تطبيق جوال وخادم) موحدًا ويمكن التنبؤ به.

---
### 🔗 2. المبادئ الأساسية لـ REST

#### **أ. العميل-الخادم (Client-Server)**
هذا المبدأ ينص على أن العميل (مثل واجهة أمامية - frontend) والخادم (الواجهة الخلفية - backend) يجب أن يكونا منفصلين تمامًا. العميل مسؤول عن واجهة المستخدم، والخادم مسؤول عن تخزين البيانات ومنطق العمل. هذا الفصل يسمح لكل جزء بالتطور بشكل مستقل.

---
#### **ب. انعدام الحالة (Statelessness)**
هذا هو أحد أهم المبادئ. يعني أن **كل طلب من العميل إلى الخادم يجب أن يحتوي على جميع المعلومات التي يحتاجها الخادم لفهم الطلب وتنفيذه**. الخادم لا يحتفظ بأي معلومات عن "حالة" أو "جلسة" العميل بين الطلبات.

* **لماذا هو مهم؟** لأنه يجعل التطبيق قابلاً للتطوير بشكل هائل. أي خادم يمكنه التعامل مع أي طلب لأن لا أحد منهم يحتاج إلى معرفة تاريخ الطلبات السابقة.
* **مثال عملي:** إذا كان المستخدم مسجلاً دخوله، يجب على العميل إرسال معلومات المصادقة (مثل token) مع **كل طلب** يتطلب ذلك. الخادم لا يتذكر أن العميل قد سجل دخوله في الطلب السابق.

---
#### **ج. الواجهة الموحدة (Uniform Interface)**
هذا المبدأ هو جوهر REST ويهدف إلى توحيد طريقة تفاعل العملاء مع الخادم، بغض النظر عن نوع العميل أو التطبيق. يتكون من عدة قيود فرعية:

1.  **تحديد الموارد (Identification of Resources):** يتم التعامل مع كل شيء كـ **"مورد" (Resource)** — مستخدم، منتج، مقال، إلخ. ولكل مورد معرف فريد وهو عنوان URL الخاص به (مثل `/users/123`).
2.  **التعامل مع الموارد عبر تمثيلاتها (Representations):** لا يتفاعل العميل مباشرة مع المورد في قاعدة البيانات، بل يتفاعل مع "تمثيل" له، والذي يكون عادةً بصيغة **JSON** أو XML.
3.  **رسائل ذاتية الوصف (Self-descriptive Messages):** يجب أن يحتوي كل طلب أو استجابة على معلومات كافية لفهمها. مثال: ترويسة `Content-Type: application/json` تخبر العميل بكيفية تفسير جسم الاستجابة.
4.  **HATEOAS (Hypermedia as the Engine of Application State):** (مفهوم متقدم) يعني أن استجابة الخادم يجب أن تحتوي على روابط تخبر العميل بالإجراءات التالية الممكنة. مثال: عند طلب تفاصيل مستخدم، قد تحتوي الاستجابة على رابط لتعديل هذا المستخدم أو حذفه.

---