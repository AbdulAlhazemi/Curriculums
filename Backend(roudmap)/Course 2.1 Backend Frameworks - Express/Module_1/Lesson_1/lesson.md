## 🚀 الوحدة 1: أساسيات Express.js

### 📘 الدرس 1: مقدمة في Express.js (لماذا نستخدم إطار عمل؟)

#### 🧠 **ماذا ستتعلم**
* ما هو إطار عمل الويب (Web Framework).
* ما هو Express.js على وجه التحديد.
* الفوائد الرئيسية لاستخدام إطار عمل بدلاً من Node.js الخام.
* الميزات الأساسية لـ Express مثل التوجيه (Routing) والبرمجيات الوسيطة (Middleware).

---
### 🤔 1. المشكلة: بناء خادم باستخدام Node.js فقط
كما تعلمنا سابقًا، يمكننا بناء خادم ويب باستخدام وحدة `http` المدمجة في Node.js. لكن عندما يكبر التطبيق، يصبح الكود معقدًا وفوضويًا بسرعة.

**مثال: خادم Node.js بسيط**
```javascript
const http = require('http');

const server = http.createServer((req, res) => {
  if (req.url === '/' && req.method === 'GET') {
    res.end('Welcome to the homepage!');
  } else if (req.url === '/about' && req.method === 'GET') {
    res.end('This is the about page.');
  } else if (req.url === '/api/users' && req.method === 'POST') {
    // ... logic to handle POST data ...
    res.end('User created.');
  } else {
    res.end('Page not found.');
  }
});

server.listen(3000);
```
**المشاكل هنا واضحة:**
* **فوضى الشروط:** الكود عبارة عن سلسلة طويلة من جمل `if...else if`.
* **التعامل اليدوي:** يجب عليك تحليل عنوان URL والفعل (method) وجسم الطلب يدويًا لكل طلب.
* **لا يوجد هيكل واضح:** مع نمو التطبيق، يصبح من الصعب جدًا تنظيم هذا الكود وصيانته.

---
### 💡 2. الحل: إطار العمل (The Framework)
إطار عمل الويب هو مجموعة من الأدوات والمكتبات والقواعد التي **تبسط عملية بناء تطبيقات الويب**. هو يوفر لك أساسًا وهيكلاً جاهزًا، ويتعامل مع المهام المتكررة والمملة (مثل تحليل الطلبات والتوجيه)، مما يسمح لك بالتركيز على كتابة منطق التطبيق الفعلي.

> **ببساطة:** بناء تطبيق باستخدام Node.js الخام يشبه بناء منزل من الصفر بنفسك، حيث تقطع الخشب وتصنع الطوب. استخدام إطار عمل مثل Express يشبه استخدام مجموعة بناء منزل جاهزة: تحصل على أساس متين، جدران مقطوعة مسبقًا، وتعليمات واضحة، مما يتيح لك التركيز على الديكور الداخلي والأثاث (منطق تطبيقك).

---
### ✨ 3. ما هو Express.js؟
**Express.js** هو إطار عمل ويب بسيط، سريع، ومرن لـ Node.js. إنه الإطار الأكثر شعبية في عالم Node.js وقد أصبح المعيار الفعلي لبناء الخوادم وواجهات برمجة التطبيقات (APIs).

يُعرف Express بأنه **"غير صارم" (unopinionated)**، مما يعني أنه لا يفرض عليك طريقة واحدة لتنظيم مشروعك، بل يمنحك المرونة الكاملة لاختيار الأدوات والهيكل الذي يناسبك.

---
### ⭐ 4. الميزات الأساسية لـ Express

#### **أ. التوجيه (Routing)**
يوفر Express نظامًا نظيفًا وقويًا للتعامل مع طلبات HTTP بناءً على مسار URL والفعل (GET, POST, etc.). قارن بين المثال السابق وهذا:

```javascript
const express = require('express');
const app = express();

app.get('/', (req, res) => {
  res.send('Welcome to the homepage!');
});

app.get('/about', (req, res) => {
  res.send('This is the about page.');
});

app.post('/api/users', (req, res) => {
  res.send('User created.');
});

app.listen(3000);
```
الكود أصبح أكثر وضوحًا وتنظيمًا بشكل كبير.

#### **ب. البرمجيات الوسيطة (Middleware)**
هذا هو المفهوم الأساسي في Express. الـ Middleware هي ببساطة **دوال تعمل في منتصف دورة الطلب والاستجابة**. يمكنها تنفيذ مهام مثل:
* تسجيل الطلبات الواردة (Logging).
* تحليل جسم الطلب (Body Parsing).
* التحقق من مصادقة المستخدم (Authentication).
* التعامل مع الأخطاء.

---
