## 💻 الوحدة 2: إدارة النظام المتقدمة وسطر الأوامر

### 📘 الدرس 1: الأذونات والملكية (Permissions and Ownership)

#### 🧠 **ماذا ستتعلم**
* كيفية قراءة وفهم سلسلة الأذونات (مثل `-rwxr-xr--`).
* فهم أنواع الأذونات الثلاثة: القراءة (`r`)، الكتابة (`w`)، والتنفيذ (`x`).
* فهم مستويات الملكية الثلاثة: المستخدم (User)، المجموعة (Group)، والآخرون (Others).
* كيفية تغيير الأذونات باستخدام `chmod`.
* كيفية تغيير الملكية باستخدام `chown`.
* فهم واستخدام `sudo` لتنفيذ الأوامر بصلاحيات المدير.

---
### 👁️ 1. فهم مخرجات `ls -l`
عندما تستخدم الأمر `ls -l`، سترى سلسلة من 10 أحرف في بداية كل سطر. هذه السلسلة تصف نوع الملف وأذوناته.

**مثال:** `drwxr-x--x`
* **الحرف الأول:** نوع الملف (`d` للمجلد، `-` للملف العادي).
* **الأحرف 2-4:** أذونات **المالك (User)**. في المثال هي `rwx` (قراءة، كتابة، تنفيذ).
* **الأحرف 5-7:** أذونات **المجموعة (Group)**. في المثال هي `r-x` (قراءة، تنفيذ، ولكن لا يمكن الكتابة).
* **الأحرف 8-10:** أذونات **الآخرين (Others)**. في المثال هي `--x` (تنفيذ فقط).

| الإذن | معناه للملف | معناه للمجلد |
| :--- | :--- | :--- |
| **`r` (Read)** | يمكن قراءة محتوى الملف. | يمكن عرض قائمة بالملفات داخل المجلد. |
| **`w` (Write)**| يمكن تعديل الملف. | يمكن إنشاء أو حذف ملفات داخل المجلد. |
| **`x` (Execute)**| يمكن تشغيل الملف (إذا كان برنامجًا أو سكربتًا). | يمكن الدخول إلى المجلد باستخدام `cd`. |

---
### 🔑 2. تغيير الأذونات - الأمر `chmod`
الأمر `chmod` (اختصار لـ **Ch**ange **Mod**e) يغير أذونات الوصول لملف أو مجلد. هناك طريقتان رئيسيتان لاستخدامه:

#### **أ. الطريقة الرمزية (Symbolic)**
تستخدم الحروف `u, g, o, a` (user, group, others, all) والعمليات `+, -, =` (add, remove, set).

* `chmod u+x script.sh`: إضافة (`+`) إذن التنفيذ (`x`) للمالك (`u`).
* `chmod g-w config.txt`: إزالة (`-`) إذن الكتابة (`w`) من المجموعة (`g`).
* `chmod a=r public_info.txt`: تعيين (`=`) الأذونات للجميع (`a`) لتكون قراءة فقط (`r`).

#### **ب. الطريقة الرقمية (Numeric/Octal)**
تستخدم أرقامًا لتمثيل الأذونات، وهي أسرع للمحترفين.
* `r` = 4
* `w` = 2
* `x` = 1

يتم جمع الأرقام لكل فئة (المالك، المجموعة، الآخرون).
* `rwx` = 4+2+1 = **7**
* `r-x` = 4+0+1 = **5**
* `rw-` = 4+2+0 = **6**

**مثال:**
```bash
# rwx r-x r-x  ->  755
# هذا إذن شائع جدًا للملفات التنفيذية والسكربتات
chmod 755 my_script.sh
```

---
### 👑 3. تغيير الملكية - الأمر `chown`
الأمر `chown` (اختصار لـ **Ch**ange **Own**er) يغير المالك (المستخدم والمجموعة) لملف أو مجلد. يتطلب هذا الأمر عادةً صلاحيات المدير.

**الصيغة العامة:** `chown [user]:[group] [file]`

**أمثلة:**
```bash
# تغيير المالك فقط
sudo chown ahmed report.pdf

# تغيير المجموعة فقط (لاحظ النقطتين قبل اسم المجموعة)
sudo chown :developers project_file.js

# تغيير المالك والمجموعة معًا
sudo chown ahmed:admins server.conf
```

---
### 🛡️ 4. تنفيذ الأوامر بصلاحيات المدير - الأمر `sudo`
الأمر `sudo` (اختصار لـ **S**uper**u**ser **Do**) يسمح لك بتنفيذ أمر واحد بصلاحيات المدير (root). هذا ضروري للمهام التي تؤثر على النظام ككل، مثل تثبيت البرامج أو تغيير ملكية الملفات.

> ⚠️ **تحذير:** استخدم `sudo` فقط عندما يكون ضروريًا ومع الأوامر التي تثق بها تمامًا، لأنه يمنحك القوة لتعديل أو حذف أي شيء في النظام.

**مثال:**
```bash
# هذا الأمر سيفشل بدون صلاحيات المدير
apt install htop

# هذا الأمر سينجح بعد طلب كلمة المرور
sudo apt install htop
```

---