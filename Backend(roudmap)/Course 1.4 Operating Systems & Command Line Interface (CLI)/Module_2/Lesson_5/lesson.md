## 💻 الوحدة 2: إدارة النظام المتقدمة وسطر الأوامر

### 📘 الدرس 11: متغيرات البيئة (Environment Variables)

#### 🧠 **ماذا ستتعلم**
* ما هي متغيرات البيئة وما فائدتها.
* كيفية عرض متغيرات البيئة الحالية (`env`, `echo`).
* كيفية تعيين متغيرات جديدة للجلسة الحالية (`export`).
* كيفية جعل المتغيرات دائمة عن طريق تعديل ملفات إعدادات الصدفة (`.bashrc` أو `.zshrc`).
* فهم أهمية المتغير `PATH`.

---
### 🌍 1. ما هي متغيرات البيئة؟
متغيرات البيئة هي قيم ديناميكية ذات أسماء، يتم تخزينها داخل الصدفة وتؤثر على سلوك البرامج والعمليات التي تعمل فيها. إنها طريقة لتمرير معلومات الإعدادات إلى البرامج.

> **ببساطة:** تخيلها كـ "إعدادات عامة" للنظام. يمكن لأي برنامج أن يقرأ هذه الإعدادات ليغير من سلوكه، مثل تغيير اللغة التي يعرض بها (`LANG`) أو معرفة اسم المستخدم الحالي (`USER`).

---
### 👀 2. عرض متغيرات البيئة
هناك طريقتان رئيسيتان لعرض متغيرات البيئة:

* **`env`:** يقوم بطباعة قائمة بـ **جميع** متغيرات البيئة المتاحة حاليًا.
    ```bash
    env
    ```
* **`echo`:** يستخدم لطباعة قيمة متغير **محدد**. يجب أن تسبق اسم المتغير بعلامة الدولار (`$`).
    ```bash
    # عرض مسار المجلد الرئيسي
    echo $HOME

    # عرض اسم المستخدم الحالي
    echo $USER

    # عرض مسار برنامج الصدفة الحالي
    echo $SHELL
    ```

---
### 🔧 3. تعيين متغيرات البيئة

#### **أ. للجلسة الحالية فقط (`export`)**
عندما تقوم بتعيين متغير باستخدام `export`، فإنه يكون متاحًا فقط في نافذة الطرفية الحالية. بمجرد إغلاقها، يختفي المتغير.
**الصيغة العامة:** `export VARIABLE_NAME="value"`

```bash
# تعيين متغير جديد
export API_KEY="12345abcdef"

# التحقق من قيمته
echo $API_KEY
# الناتج: 12345abcdef
```

#### **ب. جعل المتغيرات دائمة**
لجعل متغير متاحًا في كل مرة تفتح فيها طرفية جديدة، يجب عليك إضافته إلى ملف إعدادات الصدفة الخاص بك.
* لصدفة **Bash**: الملف هو `~/.bashrc`
* لصدفة **Zsh**: الملف هو `~/.zshrc`

**الخطوات:**
1.  افتح ملف الإعدادات باستخدام `nano`:
    ```bash
    nano ~/.bashrc
    ```
2.  أضف سطر الـ `export` في نهاية الملف:
    ```
    export DATABASE_URL="mongodb://localhost/mydb"
    ```
3.  احفظ الملف واخرج (`Ctrl + O`, `Ctrl + X`).
4.  لتطبيق التغييرات فورًا في نافذتك الحالية، نفذ الأمر `source` أو ببساطة افتح نافذة طرفية جديدة.
    ```bash
    source ~/.bashrc
    ```

---
### 🗺️ 4. المتغير الأهم: `PATH`
المتغير `PATH` هو أحد أهم متغيرات البيئة. وهو عبارة عن قائمة من مسارات المجلدات مفصولة بنقطتين رأسيتين (`:`). عندما تكتب أمرًا (مثل `ls` أو `code`)، تبحث الصدفة في هذه المجلدات بالترتيب للعثور على الملف التنفيذي لهذا الأمر.

**مثال:**
```bash
# عرض محتويات المتغير PATH
echo $PATH
# /usr/local/bin:/usr/bin:/bin
```
هذا يعني أن الصدفة ستبحث أولاً في `/usr/local/bin`، ثم في `/usr/bin`، وهكذا. يمكنك إضافة مجلداتك الخاصة التي تحتوي على سكربتات إلى `PATH` لتتمكن من تشغيلها من أي مكان.

---
