## ðŸ§ª Ø§Ù„ÙˆØ­Ø¯Ø© 1: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ¦Ø©

### ðŸ“˜ Ø§Ù„Ø¯Ø±Ø³ 5: Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ§Ù„ØªØ¬Ø³Ø³ (Mocking and Spying)

#### ðŸ§  **Ù…Ø§Ø°Ø§ Ø³ØªØªØ¹Ù„Ù…**
* Ù„Ù…Ø§Ø°Ø§ Ù†Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ "Ù…Ø­Ø§ÙƒØ§Ø©" Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª ÙÙŠ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø©.
* Ø§Ù„ÙØ±Ù‚ Ø§Ù„Ù…Ø¨Ø¯Ø¦ÙŠ Ø¨ÙŠÙ† Mocks, Stubs, Ùˆ Spies.
* ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø¯Ø§Ù„Ø© Ù…Ø­Ø§ÙƒØ§Ø© (mock function) Ø¨Ø³ÙŠØ·Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `jest.fn()`.
* ÙƒÙŠÙÙŠØ© Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ­Ø¯Ø© (module) ÙƒØ§Ù…Ù„Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `jest.mock()`.
* ÙƒÙŠÙÙŠØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø¯Ø§Ù„Ø© Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ¨Ø§Ù„ÙˆØ³Ø§Ø¦Ø· Ø§Ù„ØµØ­ÙŠØ­Ø©.

---
### ðŸ¤” 1. Ù…Ø´ÙƒÙ„Ø© Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª (Dependencies)
ÙÙŠ Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø«Ø§Ù†ÙŠØŒ Ù‚Ù„Ù†Ø§ Ø£Ù† Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„ÙˆØ­Ø¯Ø© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† **Ù…Ø¹Ø²ÙˆÙ„Ø©**. Ù„ÙƒÙ† ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹ØŒ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ø§ ØªØ¹Ù…Ù„ Ø¨Ù…ÙØ±Ø¯Ù‡Ø§ØŒ Ø¨Ù„ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¯ÙˆØ§Ù„ Ø£Ùˆ ÙˆØ­Ø¯Ø§Øª Ø£Ø®Ø±Ù‰.

* **Ù…Ø«Ø§Ù„:** Ù„Ø¯ÙŠÙƒ Ø¯Ø§Ù„Ø© `registerUser(userData)` ØªÙ‚ÙˆÙ… Ø¨Ø­ÙØ¸ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø«Ù… ØªØ±Ø³Ù„ Ù„Ù‡ Ø¨Ø±ÙŠØ¯Ù‹Ø§ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠÙ‹Ø§ ØªØ±Ø­ÙŠØ¨ÙŠÙ‹Ø§.
    ```javascript
    function registerUser(user) {
      database.save(user);    // Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ© Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      emailService.send(user.email, 'Welcome!'); // Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ© Ø¹Ù„Ù‰ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯
      return true;
    }
    ```
* **Ø§Ù„Ù…Ø´ÙƒÙ„Ø©:** Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ø®ØªØ¨Ø§Ø± ÙˆØ­Ø¯Ø© Ù„Ø¯Ø§Ù„Ø© `registerUser`ØŒ Ù†Ø­Ù† **Ù„Ø§ Ù†Ø±ÙŠØ¯** Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø£Ùˆ Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ. Ù‡Ø°Ø§ Ø³ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ø·ÙŠØ¦Ù‹Ø§ØŒ ØºÙŠØ± Ù…Ø³ØªÙ‚Ø±ØŒ ÙˆÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£Ù†Ø¸Ù…Ø© Ø®Ø§Ø±Ø¬ÙŠØ©.

---
### ðŸ‘¥ 2. Ø§Ù„Ø­Ù„: Ø¨Ø¯Ø§Ø¦Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Test Doubles)
Ù„Ø­Ù„ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©ØŒ Ù†Ø³ØªØ®Ø¯Ù… Ù…Ø§ ÙŠØ³Ù…Ù‰ "Ø¨Ø¯Ø§Ø¦Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±"ØŒ ÙˆÙ‡ÙŠ ÙƒØ§Ø¦Ù†Ø§Øª ÙˆÙ‡Ù…ÙŠØ© ØªØ­Ù„ Ù…Ø­Ù„ Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ§Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±. Ø£Ø´Ù‡Ø± Ø£Ù†ÙˆØ§Ø¹Ù‡Ø§:
* **Stub (Ø¨Ø¯ÙŠÙ„):** ÙƒØ§Ø¦Ù† Ø¨Ø³ÙŠØ· ÙŠÙØ±Ø¬Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¹Ø¯Ø© Ù…Ø³Ø¨Ù‚Ù‹Ø§.
* **Spy (Ø¬Ø§Ø³ÙˆØ³):** ÙŠÙ„ØªÙ Ø­ÙˆÙ„ Ø¯Ø§Ù„Ø© Ø­Ù‚ÙŠÙ‚ÙŠØ© ÙˆÙŠØ³Ø¬Ù„ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø­ÙˆÙ„ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ¯Ø¹Ø§Ø¦Ù‡Ø§ (ÙƒÙ… Ù…Ø±Ø©ØŒ Ø¨Ø£ÙŠ ÙˆØ³Ø§Ø¦Ø·) Ø¯ÙˆÙ† ØªØºÙŠÙŠØ± Ø³Ù„ÙˆÙƒÙ‡Ø§.
* **Mock (ÙƒØ§Ø¦Ù† Ù…Ø­Ø§ÙƒØ§Ø©):** ÙƒØ§Ø¦Ù† "Ø°ÙƒÙŠ" ÙŠÙ…ÙƒÙ†Ùƒ Ø¨Ø±Ù…Ø¬ØªÙ‡ Ù„ÙŠØªØµØ±Ù Ø¨Ø·Ø±Ù‚ Ù…Ø¹ÙŠÙ†Ø© (Ù…Ø«Ù„ Ø§Ù„Ù€ Stub) ÙˆÙŠØ³Ø¬Ù„ ÙƒÙŠÙÙŠØ© Ø§Ø³ØªØ®Ø¯Ø§Ø¦Ù‡ (Ù…Ø«Ù„ Ø§Ù„Ù€ Spy).

> **ÙÙŠ Jest:** ÙŠÙˆÙØ± Jest Ø£Ø¯Ø§Ø© Ù‚ÙˆÙŠØ© ØªØ³Ù…Ù‰ **"Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø©" (Mock Functions)** ÙŠÙ…ÙƒÙ†Ù‡Ø§ Ø£Ø¯Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±ØŒ Ù…Ù…Ø§ ÙŠØ¨Ø³Ø· Ø§Ù„Ø¹Ù…Ù„ÙŠØ©. Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ù‡ÙŠ **Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø´ÙŠØ¡ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø¨Ø´ÙŠØ¡ ÙˆÙ‡Ù…ÙŠ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠÙ‡ ÙˆÙ…Ø±Ø§Ù‚Ø¨ØªÙ‡**.

---
### âœ¨ 3. Ø§Ù„Ù…Ø­Ø§ÙƒØ§Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Jest
#### **Ø£. Ù…Ø­Ø§ÙƒØ§Ø© ÙˆØ­Ø¯Ø© ÙƒØ§Ù…Ù„Ø© (`jest.mock()`)**
Ù‡Ø°Ù‡ Ù‡ÙŠ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø£ÙƒØ«Ø± Ø´ÙŠÙˆØ¹Ù‹Ø§ ÙˆÙØ¹Ø§Ù„ÙŠØ©. ÙŠÙ…ÙƒÙ†Ùƒ Ø£Ù† ØªØ·Ù„Ø¨ Ù…Ù† Jest Ø§Ø³ØªØ¨Ø¯Ø§Ù„ ÙˆØ­Ø¯Ø© ÙƒØ§Ù…Ù„Ø© Ø¨Ù†Ø³Ø®Ø© Ù…Ø­Ø§ÙƒØ§Ø©.

**Ù„Ù†ÙØªØ±Ø¶ Ø£Ù† Ù„Ø¯ÙŠÙ†Ø§ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù„ÙØ§Øª:**
**`emailService.js` (Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ÙŠØ© Ø§Ù„ØªÙŠ Ù†Ø±ÙŠØ¯ Ù…Ø­Ø§ÙƒØ§ØªÙ‡Ø§)**
```javascript
// Ù‡Ø°Ø§ ÙŠØ±Ø³Ù„ Ø¨Ø±ÙŠØ¯Ù‹Ø§ Ø­Ù‚ÙŠÙ‚ÙŠÙ‹Ø§
const sendEmail = (to, subject, body) => {
  console.log(`Sending real email to ${to}...`);
  // ... Ù…Ù†Ø·Ù‚ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„ÙØ¹Ù„ÙŠ ...
};
module.exports = { sendEmail };
```

**`signup.js` (Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„ØªÙŠ Ù†Ø®ØªØ¨Ø±Ù‡Ø§)**
```javascript
const { sendEmail } = require('./emailService');

const signup = (email, password) => {
  // ... Ù…Ù†Ø·Ù‚ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ...
  console.log(`User ${email} signed up.`);
  sendEmail(email, 'Welcome to our app!');
  return true;
};
module.exports = { signup };
```
**Ù…Ù„Ù Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± `signup.test.js`**
```javascript
const { signup } = require('./signup');
const { sendEmail } = require('./emailService');

// 1. Ø§Ø·Ù„Ø¨ Ù…Ù† Jest Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ© Ø¨Ù†Ø³Ø®Ø© Ù…Ø­Ø§ÙƒØ§Ø©
jest.mock('./emailService');

describe('signup function', () => {
  it('should call the email service after a successful signup', () => {
    // Arrange
    const testEmail = 'test@example.com';
    const testPassword = 'password123';
    
    // Act
    signup(testEmail, testPassword);

    // Assert
    // Ø§Ù„Ø¢Ù†ØŒ sendEmail Ù„ÙŠØ³Øª Ø§Ù„Ø¯Ø§Ù„Ø© Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©ØŒ Ø¨Ù„ Ù‡ÙŠ Ø¯Ø§Ù„Ø© Ù…Ø­Ø§ÙƒØ§Ø© Ù…Ù† Jest
    
    // Ù‡Ù„ ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„Ø¯Ø§Ù„Ø©ØŸ
    expect(sendEmail).toHaveBeenCalled();
    
    // ÙƒÙ… Ù…Ø±Ø© ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§ØŸ
    expect(sendEmail).toHaveBeenCalledTimes(1);
    
    // Ù…Ø§ Ù‡ÙŠ Ø§Ù„ÙˆØ³Ø§Ø¦Ø· Ø§Ù„ØªÙŠ ØªÙ… Ø§Ø³ØªØ¯Ø¹Ø§Ø¤Ù‡Ø§ Ø¨Ù‡Ø§ØŸ
    expect(sendEmail).toHaveBeenCalledWith('test@example.com', 'Welcome to our app!');
  });
});
```
Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø·Ø±ÙŠÙ‚Ø©ØŒ Ø§Ø®ØªØ¨Ø±Ù†Ø§ Ù…Ù†Ø·Ù‚ Ø¯Ø§Ù„Ø© `signup` ÙˆØªØ£ÙƒØ¯Ù†Ø§ Ù…Ù† Ø£Ù†Ù‡Ø§ ØªØ³ØªØ¯Ø¹ÙŠ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­ØŒ ÙƒÙ„ Ø°Ù„Ùƒ **Ø¯ÙˆÙ† Ø¥Ø±Ø³Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆØ§Ø­Ø¯**.

---
