## ğŸ”‘ Ø§Ù„ÙˆØ­Ø¯Ø© 1: Ø£Ø³Ø§Ø³ÙŠØ§Øª Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ÙˆØ§Ù„ØªØ®ÙˆÙŠÙ„

### ğŸ“˜ Ø§Ù„Ø¯Ø±Ø³ 4: ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø¨Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ù…Ø¹ Express

#### ğŸ§  **Ù…Ø§Ø°Ø§ Ø³ØªØªØ¹Ù„Ù…**
* ÙƒÙŠÙÙŠØ© ØªØ«Ø¨ÙŠØª ÙˆØ¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù€ Middleware `express-session`.
* ÙƒÙŠÙÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ù…Ø³ØªØ®Ø¯Ù… Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù†Ø§Ø¬Ø­.
* ÙƒÙŠÙÙŠØ© Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø© ÙÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù„Ø§Ø­Ù‚Ø© Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª.
* ÙƒÙŠÙÙŠØ© ØªØ¯Ù…ÙŠØ± Ø§Ù„Ø¬Ù„Ø³Ø© Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬.
* Ø£Ù‡Ù…ÙŠØ© Ø®ÙŠØ§Ø± `secret` ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©.

---
### âš™ï¸ 1. Ø§Ù„Ø£Ø¯Ø§Ø©: `express-session`
`express-session` Ù‡ÙŠ Ø­Ø²Ù…Ø© Middleware ØªÙ‚ÙˆÙ… Ø¨ÙƒÙ„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø´Ø§Ù‚ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¬Ù„Ø³Ø§Øª Ù†ÙŠØ§Ø¨Ø© Ø¹Ù†Ùƒ. Ù‡ÙŠ Ù…Ø³Ø¤ÙˆÙ„Ø© Ø¹Ù†:
* Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¹Ø±ÙØ§Øª Ø¬Ù„Ø³Ø© ÙØ±ÙŠØ¯Ø©.
* Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø§Ù„ÙƒÙˆÙƒÙŠ Ø¥Ù„Ù‰ Ø§Ù„Ù…ØªØµÙØ­.
* Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„ÙƒÙˆÙƒÙŠ Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ§Ø±Ø¯Ø©.
* Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø¦Ù† `req.session` ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ù„ØªØ®Ø²ÙŠÙ† ÙˆØ§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ù„Ø³Ø©.

> **Ù…Ù„Ø§Ø­Ø¸Ø©:** Ø¨Ø´ÙƒÙ„ Ø§ÙØªØ±Ø§Ø¶ÙŠØŒ ØªÙ‚ÙˆÙ… `express-session` Ø¨ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¬Ù„Ø³Ø§Øª ÙÙŠ Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø®Ø§Ø¯Ù…. Ù‡Ø°Ø§ Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ØªØ·ÙˆÙŠØ±ØŒ ÙˆÙ„ÙƒÙ†Ù‡ ØºÙŠØ± Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø¥Ù†ØªØ§Ø¬ (Ù„Ø£Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø³ØªØ¶ÙŠØ¹ Ø¹Ù†Ø¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ´ØºÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…). ÙÙŠ ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø¥Ù†ØªØ§Ø¬ØŒ ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø®Ø²Ù† Ø¬Ù„Ø³Ø§Øª Ø®Ø§Ø±Ø¬ÙŠ Ù…Ø«Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ùˆ Redis.

---
### ğŸ”§ 2. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„ØªÙ‡ÙŠØ¦Ø©

#### **Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„ØªØ«Ø¨ÙŠØª**
```bash
npm install express-session
```

#### **Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙÙŠ `index.js`**
ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ Middleware ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Express Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ ÙˆØªÙ…Ø±ÙŠØ± ÙƒØ§Ø¦Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù„Ù‡.
```javascript
const session = require('express-session');

app.use(session({
  // Ù…ÙØªØ§Ø­ Ø³Ø±ÙŠ ÙŠØ³ØªØ®Ø¯Ù… Ù„ØªÙˆÙ‚ÙŠØ¹ ÙƒÙˆÙƒÙŠ Ù…Ø¹Ø±Ù Ø§Ù„Ø¬Ù„Ø³Ø©. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø³Ù„Ø³Ù„Ø© Ù†ØµÙŠØ© Ø·ÙˆÙŠÙ„Ø© ÙˆØ¹Ø´ÙˆØ§Ø¦ÙŠØ©.
  secret: 'a-very-long-and-random-secret-string', 
  
  // ÙŠÙ…Ù†Ø¹ Ø¥Ø¹Ø§Ø¯Ø© Ø­ÙØ¸ Ø§Ù„Ø¬Ù„Ø³Ø© Ø¥Ø°Ø§ Ù„Ù… ØªØªØºÙŠØ±. ÙŠØ­Ø³Ù† Ø§Ù„Ø£Ø¯Ø§Ø¡.
  resave: false,
  
  // ÙŠÙ…Ù†Ø¹ Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ù„Ø³Ø© Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù… ÙŠÙ‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§ (Ù…Ø«Ù„ Ù…Ø³ØªØ®Ø¯Ù… Ø²Ø§Ø¦Ø±).
  saveUninitialized: false,
  
  // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ÙƒÙˆÙƒÙŠ Ù†ÙØ³Ù‡
  cookie: { secure: false, maxAge: 60000 } // ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ØŒ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† secure: true
}));
```
---
### ğŸ” 3. ØªØ·Ø¨ÙŠÙ‚ Ø¯ÙˆØ±Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙˆØ§Ù„Ø®Ø±ÙˆØ¬

#### **Ø£. Ù…Ø³Ø§Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (`POST /login`)**
Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙ‚ÙˆÙ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­ØŒ Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„ÙƒØ§Ø¦Ù† `req.session`.
```javascript
app.post('/login', (req, res) => {
  const { username, password } = req.body;

  // ÙÙŠ ØªØ·Ø¨ÙŠÙ‚ Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø³ØªÙ‚ÙˆÙ… Ø¨Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù‚Ø§Ø¨Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  if (username === 'admin' && password === 'password123') {
    // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ù„Ø³Ø© Ø¹Ù† Ø·Ø±ÙŠÙ‚ ØªØ¹ÙŠÙŠÙ† Ø®Ø§ØµÙŠØ© Ø¹Ù„Ù‰ req.session
    req.session.user = { id: 1, username: 'admin' };
    res.send('Login successful');
  } else {
    res.status(401).send('Invalid credentials');
  }
});
```
#### **Ø¨. Ø­Ù…Ø§ÙŠØ© Ù…Ø³Ø§Ø± (`GET /profile`)**
Ø§Ù„Ø¢Ù†ØŒ ÙŠÙ…ÙƒÙ†Ù†Ø§ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø¥Ù†Ø´Ø§Ø¡ Middleware ÙŠØªØ­Ù‚Ù‚ Ù…Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª `req.session.user` Ù…ÙˆØ¬ÙˆØ¯Ø©.
```javascript
// Middleware Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
const checkAuth = (req, res, next) => {
  if (req.session.user) {
    next(); // Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ØµØ§Ø¯Ù‚ Ø¹Ù„ÙŠÙ‡ØŒ Ø§Ø³Ù…Ø­ Ù„Ù‡ Ø¨Ø§Ù„Ù…Ø±ÙˆØ±
  } else {
    res.status(401).send('You must be logged in to view this page.');
  }
};

// Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù€ Middleware Ù„Ø­Ù…Ø§ÙŠØ© Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø±
app.get('/profile', checkAuth, (req, res) => {
  res.send(`Welcome back, ${req.session.user.username}!`);
});
```

#### **Ø¬. Ù…Ø³Ø§Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ (`POST /logout`)**
Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ØŒ Ù†Ù‚ÙˆÙ… Ø¨ØªØ¯Ù…ÙŠØ± Ø§Ù„Ø¬Ù„Ø³Ø© Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø®Ø§Ø¯Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `req.session.destroy()`.
```javascript
app.post('/logout', (req, res) => {
  req.session.destroy(err => {
    if (err) {
      return res.status(500).send('Could not log out.');
    }
    // Ù…Ø³Ø­ Ø§Ù„ÙƒÙˆÙƒÙŠ Ù…Ù† Ø§Ù„Ù…ØªØµÙØ­ Ø£ÙŠØ¶Ù‹Ø§ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
    res.clearCookie('connect.sid'); // connect.sid Ù‡Ùˆ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„ÙƒÙˆÙƒÙŠ Ø§Ù„Ø¬Ù„Ø³Ø©
    res.send('Logout successful');
  });
});
```
---
