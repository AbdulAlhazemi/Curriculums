## 🔑 الوحدة 1: أساسيات المصادقة والتخويل

### 📘 الدرس 1: المفاهيم الأساسية: المصادقة مقابل التخويل

#### 🧠 **ماذا ستتعلم**
* التعريف الدقيق للمصادقة (Authentication).
* التعريف الدقيق للتخويل (Authorization).
* الفرق الجوهري بين المفهومين.
* مثال من العالم الحقيقي لترسيخ الفرق بينهما.

---
### 🤔 1. لماذا نحتاج للأمان في تطبيقاتنا؟
عند بناء أي تطبيق، نريد التحكم فيمن يمكنه الوصول إلى بياناتنا ووظائفنا. هذا يتطلب منا الإجابة على سؤالين أساسيين:
1.  **من أنت؟** (هل أنت حقًا المستخدم الذي تدعي أنك هو؟)
2.  **ماذا يمكنك أن تفعل؟** (بعد أن عرفنا من أنت، ما هي الصلاحيات التي تمتلكها؟)

الإجابة على هذين السؤالين هي جوهر المصادقة والتخويل.

---
### 👤 2. المصادقة (Authentication): من أنت؟
المصادقة هي عملية **التحقق من هوية** المستخدم. إنها الخطوة التي تثبت فيها أنك من تدعي أنك هو. تتم هذه العملية عادةً عن طريق تقديم "بيانات اعتماد" (credentials) لا يعرفها سواك.

* **أمثلة على طرق المصادقة:**
    * اسم مستخدم وكلمة مرور.
    * بصمة الإصبع أو التعرف على الوجه (Biometrics).
    * رمز سري لمرة واحدة (OTP) يتم إرساله إلى هاتفك.
    * مفتاح أمان مادي (Physical Security Key).

**النتيجة:** بعد مصادقة ناجحة، يعرف النظام **من هو المستخدم بالضبط** (على سبيل المثال، هذا هو المستخدم `ahmed` الذي يملك المعرف `123`).

---
### 🛡️ 3. التخويل (Authorization): ماذا يمكنك أن تفعل؟
التخويل هي عملية **تحديد الصلاحيات وحقوق الوصول** التي يمتلكها مستخدم تم التحقق من هويته. هذه الخطوة تأتي دائمًا **بعد** المصادقة الناجحة.

بمجرد أن يعرف النظام من أنت، فإنه يتحقق مما إذا كان لديك الإذن لتنفيذ إجراء معين أو الوصول إلى مورد معين.

* **أمثلة على قواعد التخويل:**
    * يمكن للمستخدم العادي قراءة المقالات، لكن **المدير (Admin)** فقط يمكنه حذفها.
    * يمكنك رؤية صفحة ملفك الشخصي، لكن لا يمكنك رؤية الملف الشخصي لمستخدم آخر.
    * يمكن للمستخدم "المميز" مشاهدة الفيديوهات بجودة عالية، بينما المستخدم العادي لا يمكنه ذلك.

**النتيجة:** الإجابة على سؤال "هل يُسمح لهذا المستخدم بتنفيذ هذا الإجراء؟" بنعم أو لا.

---
### ✈️ 4. تشبيه المطار لتوضيح الفرق
تخيل أنك مسافر في المطار.

1.  **المصادقة (Authentication):**
    عندما تصل إلى كاونتر تسجيل الدخول، تُظهر **جواز سفرك**. يقوم الموظف بالتحقق من أن صورتك تطابق وجهك وأن اسمك يطابق التذكرة. **هذه هي المصادقة.** لقد أثبتت هويتك بنجاح.

2.  **التخويل (Authorization):**
    بعد ذلك، تحصل على **بطاقة الصعود إلى الطائرة**. هذه البطاقة لا تسمح لك بالصعود إلى أي طائرة في المطار. إنها تمنحك **الإذن (الصلاحية)** للذهاب إلى بوابة معينة (`B5`) والصعود على متن طائرة معينة (`Flight 123`) في مقعد محدد (`22A`). **هذا هو التخويل.** أنت غير مخول بدخول قمرة القيادة.

---
### 📊 5. جدول المقارنة

| الخاصية | المصادقة (Authentication) | التخويل (Authorization) |
| :--- | :--- | :--- |
| **السؤال الذي تجيب عليه** | من أنت؟ (Who are you?) | ماذا يمكنك أن تفعل؟ (What can you do?) |
| **العملية** | التحقق من الهوية. | التحقق من الصلاحيات والأذونات. |
| **التوقيت** | تحدث أولاً. | تحدث بعد المصادقة الناجحة. |
| **مثال** | تسجيل الدخول بكلمة مرور. | الوصول إلى لوحة تحكم المدير. |

---
