## ๐ ุงููุดุฑูุน ุงูููุงุฆู: ุชุทุจูู ูุธุงู ูุตุงุฏูุฉ ูุชุฎููู ูุชูุงูู

### ๐ฏ ุงููุฏู
ุจูุงุก ุชุทุจูู Express.js ูุญุชูู ุนูู ูุธุงู ุชุณุฌูู ูุณุชุฎุฏููู ูุชุณุฌูู ุฏุฎูู ูุชูุงููุ ูุน ุญูุงูุฉ ุงููุณุงุฑุงุช (routes) ูููุณุชุฎุฏููู ุงููุตุงุฏู ุนูููู ููุทุ ููุณุงุฑุงุช ุฃุฎุฑู ูููุฏุฑุงุก ููุท. ุณุชููู ุจุชุทุจูู ูุฐุง ุงููุธุงู ูุฑุชูู: ูุฑุฉ ุจุงุณุชุฎุฏุงู **ุงูุฌูุณุงุช (Sessions)**ุ ููุฑุฉ ุฃุฎุฑู ุจุงุณุชุฎุฏุงู **ุงูุชููู (JWT)**ุ ูุชููู ุงููุฑููุงุช ุงูุนูููุฉ ุจูู ุงูููุฌูู.

---

### ๐พ ุชุฎุฒูู ุงูุจูุงูุงุช
ููุญูุงุธ ุนูู ุงูุชุฑููุฒ ุนูู ููุทู ุงููุตุงุฏูุฉุ ุณูุณุชุฎุฏู **ูุตูููุฉ ูู ุงูุฐุงูุฑุฉ** ูุชุฎุฒูู ุงููุณุชุฎุฏููู.
**ุงุจุฏุฃ ุจูุฐุง ุงููููู ูู ูููู ุงูุฑุฆูุณู:**
```javascript
// ูุง ุชูุณู ุชุซุจูุช bcrypt: npm install bcrypt
const bcrypt = require('bcrypt');

let users = []; // ุณุชุญุชูู ุนูู ูุงุฆูุงุช ุงููุณุชุฎุฏููู
let nextUserId = 1;

// ูุซุงู ุนูู ุดูู ูุงุฆู ุงููุณุชุฎุฏู ุจุนุฏ ุงูุชุณุฌูู
// { 
//   id: 1, 
//   username: 'admin', 
//   password: '...hashed_password...', // ุงููุงุด ูููุณ ุงููุต ุงูุฃุตูู!
//   role: 'admin' 
// }
```

---
### ๐ ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
ูุฌุจ ุฃู ูุญุชูู ุชุทุจููู ุนูู ููุงุท ุงูููุงูุฉ (Endpoints) ุงูุชุงููุฉ:

1.  **`POST /register` (ุฅูุดุงุก ุญุณุงุจ):**
    * ูุณุชูุจู `username` ู `password` ูู `req.body`.
    * ูุชุญูู ููุง ุฅุฐุง ูุงู ุงุณู ุงููุณุชุฎุฏู ููุฌูุฏูุง ุจุงููุนู.
    * ูููู ุจุชุฌุฒุฆุฉ (hashing) ูููุฉ ุงููุฑูุฑ ุจุงุณุชุฎุฏุงู `bcrypt`.
    * ูุฎุฒู ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ ูู ูุตูููุฉ `users` ูุน ุฏูุฑ (`role`) ุงูุชุฑุงุถู "user".

2.  **`GET /` (ูุณุงุฑ ุนุงู):**
    * ููุทุฉ ููุงูุฉ ุนุงูุฉ ูููู ูุฃู ุดุฎุต ุงููุตูู ุฅูููุง.

3.  **`GET /profile` (ูุณุงุฑ ูุญูู):**
    * ูุฌุจ ุฃู ูููู ุงููุตูู ุฅููู ููุชุตุฑูุง ุนูู ุงููุณุชุฎุฏููู ุงูุฐูู ูุงููุง ุจุชุณุฌูู ุงูุฏุฎูู ููุท.
    * ููุฑุฌุน ูุนูููุงุช ุงููุณุชุฎุฏู ุงููุณุฌู ุฏุฎููู.

4.  **`GET /admin` (ูุณุงุฑ ูุฏูุฑ):**
    * ูุฌุจ ุฃู ูููู ุงููุตูู ุฅููู ููุชุตุฑูุง ุนูู ุงููุณุชุฎุฏููู ุงูุฐูู ูุฏููู ุฏูุฑ `admin` ููุท.

---

### ๐ ุฃุฌุฒุงุก ุงููุดุฑูุน
ุณุชููู ุจุจูุงุก ูุฐุง ุงููุดุฑูุน ุนูู ูุฑุญูุชูู ุฏุงุฎู ููุณ ุงูุชุทุจูู.

#### **ุงูุฌุฒุก ุงูุฃูู: ุงูุชูููุฐ ุจุงุณุชุฎุฏุงู ุงูุฌูุณุงุช (Session-Based)**

1.  **ุงูุฅุนุฏุงุฏ:** ูู ุจุชุซุจูุช ูุฅุนุฏุงุฏ `express-session`.
2.  **ูุณุงุฑ ุชุณุฌูู ุงูุฏุฎูู (`POST /login`):**
    * ูุณุชูุจู `username` ู `password`.
    * ูุจุญุซ ุนู ุงููุณุชุฎุฏู ูู ูุตูููุฉ `users`.
    * ูุณุชุฎุฏู `bcrypt.compare()` ูููุงุฑูุฉ ูููุฉ ุงููุฑูุฑ ุงูููุฏุฎูุฉ ุจุงููุงุด ุงููุฎุฒู.
    * ุฅุฐุง ูุงูุช ุตุญูุญุฉุ ูููู ุจุฅูุดุงุก ุฌูุณุฉ ุนู ุทุฑูู ุญูุธ ูุนูููุงุช ุงููุณุชุฎุฏู ูู `req.session.user`.
3.  **ูุณุงุฑ ุชุณุฌูู ุงูุฎุฑูุฌ (`POST /logout`):**
    * ูุณุชุฎุฏู `req.session.destroy()` ูุฅููุงุก ุงูุฌูุณุฉ.
4.  **Middleware ููุญูุงูุฉ:**
    * ุฃูุดุฆ Middleware ูุชุญูู ูู ูุฌูุฏ `req.session.user` ูุญูุงูุฉ ูุณุงุฑ `/profile`.
    * ุฃูุดุฆ Middleware ุขุฎุฑ ูุชุญูู ูู ุฃู `req.session.user.role === 'admin'` ูุญูุงูุฉ ูุณุงุฑ `/admin`.

#### **ุงูุฌุฒุก ุงูุซุงูู: ุงูุชูููุฐ ุจุงุณุชุฎุฏุงู ุงูุชููู (JWT-Based)**

1.  **ุงูุฅุนุฏุงุฏ:** ูู ุจุชุซุจูุช `jsonwebtoken`.
2.  **ูุณุงุฑ ุชุณุฌูู ุงูุฏุฎูู (`POST /token/login`):**
    * ุฃูุดุฆ ูุณุงุฑูุง ุฌุฏูุฏูุง ูุชุณุฌูู ุงูุฏุฎูู. ูููู ุจููุณ ุนูููุฉ ุงูุชุญูู ูู ูููุฉ ุงููุฑูุฑ.
    * ุจุฏูุงู ูู ุฅูุดุงุก ุฌูุณุฉุ ูููู ุจุฅูุดุงุก (ุชูููุน) **ุชููู ูุตูู (Access Token)** ุจุงุณุชุฎุฏุงู `jwt.sign()` ูุฅุนุงุฏุชู ููุนููู ูู JSON.
3.  **Middleware ููุญูุงูุฉ:**
    * ุฃูุดุฆ Middleware ุฌุฏูุฏูุง ูุชุญูู ูู ูุฌูุฏ ุชุฑููุณุฉ `Authorization: Bearer <token>`.
    * ูุณุชุฎุฏู `jwt.verify()` ููุชุญูู ูู ุตุญุฉ ุงูุชููู.
    * ุฅุฐุง ูุงู ุงูุชููู ุตุงูุญูุงุ ูุถูู ุงูุญูููุฉ (payload) ุฅูู `req.user`.
4.  **ุชุทุจูู ุงูุญูุงูุฉ:**
    * ุงุณุชุฎุฏู ูุฐุง ุงูู Middleware ุงูุฌุฏูุฏ ูุญูุงูุฉ ููุณ ุงููุณุงุฑูู `/profile` ู `/admin` (ููููู ุฅูุดุงุก ูุณุงุฑุงุช ุฌุฏูุฏุฉ ูุซู `/token/profile` ููููุงุฑูุฉ).

---
### โ ูุนุงููุฑ ุงูุชูููู
* ุชุฌุฒุฆุฉ ูุชุฎุฒูู ูููุงุช ุงููุฑูุฑ ุจุดูู ุขูู ุจุงุณุชุฎุฏุงู `bcrypt`.
* ูุธุงู ูุตุงุฏูุฉ ูุชุฎููู ูุนูู ุจุดูู ูุงูู ุจุงุณุชุฎุฏุงู ุงูุฌูุณุงุช.
* ูุธุงู ูุตุงุฏูุฉ ูุชุฎููู ูุนูู ุจุดูู ูุงูู ุจุงุณุชุฎุฏุงู JWT.
* ุญูุงูุฉ ุงููุณุงุฑุงุช ุจุดูู ุตุญูุญ ุจุญูุซ ูุง ูููู ุงููุตูู ุฅูููุง ุฅูุง ูู ูุจู ุงููุณุชุฎุฏููู ุงููุตุฑุญ ููู.
* ููุฏ ููุธู ูููุฑูุก.

---
### ๐ ุงูุฎุทูุฉ ุงูุฃููู
1.  ุงุจุฏุฃ ุจุฅุนุฏุงุฏ ูุดุฑูุน Express ุฌุฏูุฏ. ูู ุจุชุซุจูุช ุงูุญุฒู ุงููุงุฒูุฉ: `express`, `express-session`, ู `bcrypt`.
2.  ุฑูุฒ ุฃููุงู ุนูู ุงูุฌุฒุก ุงูุฃูู ูู ุงููุดุฑูุน: ุจูุงุก ูุธุงู ุงูุชุณุฌูู (`/register`) ูุชุณุฌูู ุงูุฏุฎูู (`/login`) ุจุงุณุชุฎุฏุงู ุงูุฌูุณุงุช.
3.  ุชุฃูุฏ ูู ุฃู ูู ุดูุก ูุนูู ุจุดูู ุตุญูุญ ูุจู ุงูุงูุชูุงู ุฅูู ุชุทุจูู ูุธุงู JWT.

ุฃุชููู ูู ูู ุงูุชูููู ูู ูุดุฑูุนู ุงูููุงุฆู!