# الوحدة 4: أوامر متقدمة وإصلاح الأخطاء
## الدرس 3: إعادة كتابة التاريخ (`rebase` و `amend`)

🧠 **ماذا ستتعلم**
* مفهوم إعادة كتابة التاريخ في Git.
* كيفية استخدام `git commit --amend` لتعديل آخر كوميت.
* استخدام `git rebase` لإعادة ترتيب أو دمج الكوميتات.
* متى ولماذا تستخدم هذه الأوامر بحذر.

---

### 🧾 1. مقدمة
في بعض الأحيان قد تحتاج لتعديل الكوميت الأخير أو ترتيب الكوميتات لتكون أكثر وضوحًا. Git يتيح لك ذلك عبر أوامر مثل `commit --amend` و `rebase`، لكنها تؤثر على تاريخ المشروع لذا يجب استخدامها بحذر، خاصة في المشاريع المشتركة.

---

### 🧾 2. أمر `git commit --amend`
* يسمح لك بتعديل آخر كوميت قمت به، سواء لتغيير الرسالة أو إضافة تغييرات جديدة.
* لا ينشئ كوميت جديدًا، بل يستبدل الأخير.

**مثال:**
```bash
git commit --amend -m "رسالة جديدة للكوميت"
```

---

### 🧾 3. أمر `git rebase`
* يستخدم لإعادة ترتيب، تعديل، أو دمج الكوميتات.
* `git rebase -i` (التفاعلي) يتيح لك اختيار عمليات مثل إعادة ترتيب الكوميتات، دمجها (`squash`)، تعديل الرسائل، أو حذف كوميتات.

**مثال لإعادة ترتيب الكوميتات الثلاثة الأخيرة:**
```bash
git rebase -i HEAD~3
```

---

### 🧾 4. الحذر عند استخدام `rebase`
* لأن `rebase` يعيد كتابة التاريخ، لا تستخدمه على فروع مشتركة مع فريق آخر إلا إذا كنت متأكدًا مما تفعل.
* يفضل استخدامه على الفروع المحلية قبل الدمج مع الفرع الرئيسي.

---