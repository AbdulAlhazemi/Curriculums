## 🟩 الوحدة 1: جافاسكريبت الحديثة والمتقدمة (Advanced JS Foundations)

### 📘 الدرس 4: Composition vs Inheritance (التركيب مقابل الوراثة في تصميم الكود)

#### 🧠 **ماذا ستتعلم؟**
* الفرق بين الوراثة (Inheritance) والتركيب (Composition).
* لماذا يفضل المطورون التركيب في تطبيقات الباكند.
* كيفية تنفيذ كلٍ منهما باستخدام JavaScript.
* متى تستخدم كل نمط حسب حالة المشروع.

---

### 1. ما هي الوراثة (Inheritance)؟
الوراثة هي طريقة لإعادة استخدام الكود من خلال علاقة “is-a”. كائن جديد يرث الخصائص والدوال من كائن آخر.

> 🔍 **مثال:**
> ```javascript
> class Animal {
>   speak() {
>     console.log("Animal speaks");
>   }
> }
> 
> class Dog extends Animal {
>   bark() {
>     console.log("Woof!");
>   }
> }
> 
> const d = new Dog();
> d.speak(); // Animal speaks
> d.bark();  // Woof!
> ```

> 📌 **عيب الوراثة:**
> * علاقات جامدة.
> * زيادة التعقيد في المشاريع الكبيرة.
> * صعوبة إعادة الاستخدام إذا تغيرت الهيكلية.

---

### 2. ما هو التركيب (Composition)؟
التركيب يعني بناء الكائنات عن طريق **دمج خصائص/وظائف من مصادر مختلفة** بدلًا من الاعتماد على التسلسل الهرمي.

> 🔍 **مثال:**
> ```javascript
> function canEat(obj) {
>   return {
>     eat: () => console.log(`${obj.name} is eating`)
>   };
> }
> 
> function canWalk(obj) {
>   return {
>     walk: () => console.log(`${obj.name} is walking`)
>   };
> }
> 
> function createPerson(name) {
>   const person = { name };
>   return {
>     ...person,
>     ...canEat(person),
>     ...canWalk(person)
>   };
> }
> 
> const ali = createPerson("Ali");
> ali.eat();  // Ali is eating
> ali.walk(); // Ali is walking
> ```
> ✅ التركيب أكثر مرونة، ويسمح بإعادة استخدام الوظائف في كائنات مختلفة بدون علاقة وراثية.

---

### 3. مقارنة بين التركيب والوراثة

| المقارنة | الوراثة (Inheritance) | التركيب (Composition) |
| :--- | :--- | :--- |
| **العلاقة** | is-a | has-a / can-do |
| **المرونة** | أقل | أكثر |
| **إعادة الاستخدام** | مقيدة بالهيكل الوراثي | ممكنة بين كائنات مختلفة |
| **الشيوع في الباكند**| أقل (تستخدم في النماذج فقط) | أكثر (يُفضل في الخدمات والوحدات) |

---

### 4. متى تستخدم كلٍ من التركيب أو الوراثة؟

✅ **استخدم الوراثة إذا:**
* الكائنات مرتبطة حقًا بعلاقة “is-a”.
* النموذج ثابت وواضح (مثال: `User extends Person`).

✅ **استخدم التركيب إذا:**
* تحتاج لإعادة استخدام وظائف في كائنات متعددة.
* الكائنات غير مرتبطة منطقيًا.
* التطبيق يتطلب مرونة وتوسعة مستمرة.

---