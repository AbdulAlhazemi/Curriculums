## ⚙️ الوحدة 1: أساسيات DevOps و CI/CD

### 📘 الدرس 3: التسليم والنشر المستمر (Continuous Delivery & Deployment)

#### 🧠 **ماذا ستتعلم**
* ما هو التسليم المستمر (Continuous Delivery).
* ما هو النشر المستمر (Continuous Deployment).
* الفرق الجوهري بين المفهومين.
* كيف يبني كل من التسليم والنشر المستمر على التكامل المستمر (CI).

---
### 🤔 1. ماذا بعد التكامل المستمر؟
في الدرس السابق، تعلمنا أن التكامل المستمر (CI) يتركنا مع نسخة من الكود تم بناؤها واختبارها بنجاح. هذه النسخة تعتبر "مرشحة للإصدار" (release candidate).

**السؤال:** ماذا يحدث بعد ذلك؟ في العملية التقليدية، قد يتم تسليم هذه النسخة يدويًا إلى فريق آخر، وقد يتم تجميع عدة تغييرات معًا لإصدار كبير يتم نشره مرة كل أسبوع أو كل شهر. هذا يخلق تأخيرًا وبطئًا في وصول الميزات الجديدة للمستخدمين.

**الحل:** أتمتة عملية الإصدار. هنا يأتي دور **CD**.

---
### 🚚 2. التسليم المستمر (Continuous Delivery)
التسليم المستمر هو امتداد منطقي للتكامل المستمر. في هذه الممارسة، يتم أخذ كل تغيير ينجح في جميع مراحل الاختبار الآلي و**نشره تلقائيًا** إلى بيئة تشبه بيئة الإنتاج الحقيقية، تسمى عادةً **"بيئة الاختبار المرحلي" (Staging Environment)**.

**النقطة الأساسية:** تكون النسخة الجديدة جاهزة تمامًا للنشر إلى المستخدمين الفعليين، لكن الخطوة النهائية لنشرها إلى **بيئة الإنتاج (Production)** تتطلب **تدخلاً يدويًا** (مثل نقرة زر من مدير المنتج أو قائد الفريق).

> **ببساطة:** تخيل أن مصنع السيارات قد قام بتجميع سيارة جديدة، اختبارها بالكامل، وتلميعها. السيارة الآن تقف في **صالة العرض**، جاهزة تمامًا للبيع. لكن قرار تسليم المفاتيح للعميل النهائي (النشر إلى الإنتاج) لا يزال يتطلب موافقة بشرية.

---
### 🚀 3. النشر المستمر (Continuous Deployment)
النشر المستمر يأخذ الأتمتة خطوة أبعد. هو يعني أن **كل تغيير** ينجح في جميع مراحل خط الأنابيب الآلي (بناء واختبار) يتم **نشره تلقائيًا إلى بيئة الإنتاج** دون أي تدخل بشري.

**النقطة الأساسية:** عملية النشر إلى المستخدمين النهائيين **آلية بالكامل**.

هذا النهج يتطلب مستوى عالٍ جدًا من الثقة في مجموعة الاختبارات الآلية الخاصة بك. الشركات الكبرى مثل Netflix و Amazon تستخدم هذا النهج لإصدار مئات أو آلاف التغييرات الصغيرة كل يوم.

> **ببساطة:** مصنع السيارات لا يقوم فقط ببناء واختبار السيارة، بل يقوم روبوت آلي بقيادتها فورًا خارج المصنع وتسليمها مباشرة إلى منزل العميل.

---
### ⚖️ 4. الفرق الرئيسي في جدول

| الخاصية | التسليم المستمر (Continuous Delivery) | النشر المستمر (Continuous Deployment) |
| :--- | :--- | :--- |
| **خط الأنابيب** | بناء ← اختبار ← **نشر إلى بيئة الاختبار المرحلي** | بناء ← اختبار ← نشر إلى بيئة الاختبار المرحلي ← **نشر إلى الإنتاج** |
| **النشر النهائي** | **يدوي** (يتطلب موافقة بشرية) | **تلقائي** (يتم بالكامل بدون تدخل بشري) |
| **الهدف** | أن تكون لديك نسخة جاهزة للإصدار في أي وقت. | إصدار كل تغيير ناجح للمستخدمين فورًا. |
| **المناسبة لـ** | معظم الشركات التي تبدأ في تبني DevOps. | الشركات ذات ثقافة اختبار ناضجة جدًا. |

---
