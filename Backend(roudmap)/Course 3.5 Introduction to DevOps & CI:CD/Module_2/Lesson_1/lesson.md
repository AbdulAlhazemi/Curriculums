## ⚙️ الوحدة 2: التطبيق العملي باستخدام GitHub Actions

### 📘 الدرس 1: مقدمة في GitHub Actions

#### 🧠 **ماذا ستتعلم**
* ما هي GitHub Actions وكيف تتكامل مع مستودعك.
* المكونات الأساسية لسير عمل GitHub Actions.
* أين يتم تخزين ملفات سير العمل.
* نظرة عامة أساسية على صيغة YAML المستخدمة في كتابة سير العمل.

---
### 🤔 1. ما هي GitHub Actions؟
GitHub Actions هي منصة **CI/CD** مدمجة مباشرة في **GitHub**. هي تسمح لك بأتمتة جميع عمليات تطوير البرمجيات الخاصة بك مباشرة من مستودعك (repository). يمكنك استخدامها لبناء الكود، تشغيل الاختبارات، ونشر تطبيقك تلقائيًا كلما حدث شيء معين (مثل دفع كود جديد أو فتح طلب سحب).

**الميزة الكبرى:** كل شيء متكامل. لا تحتاج إلى إعداد خادم CI منفصل أو استخدام خدمة طرف ثالث. كل شيء يتم إدارته داخل GitHub.

---
### 🧩 2. المكونات الأساسية لـ GitHub Actions
لفهم GitHub Actions، يجب أن نفهم التسلسل الهرمي لمكوناتها:

1.  **Workflow (سير العمل):**
    * هو العملية الآلية بأكملها. يتم تعريف كل سير عمل في **ملف YAML** خاص به. يمكن أن يحتوي المستودع على عدة سير عمل مختلفة.
    * **الموقع:** يجب وضع هذه الملفات في مجلد خاص داخل مشروعك: `.github/workflows/`.

2.  **Event (الحدث):**
    * هو **المُحفِّز** الذي يبدأ سير العمل.
    * **أمثلة:**
        * `on: push` (عند دفع تغييرات إلى فرع معين).
        * `on: pull_request` (عند فتح أو تحديث طلب سحب).
        * `on: schedule` (لتشغيل سير العمل في وقت محدد، مثل cron job).
        * `on: workflow_dispatch` (لتشغيله يدويًا من واجهة GitHub).

3.  **Job (المهمة):**
    * يتكون سير العمل من مهمة واحدة أو أكثر.
    * بشكل افتراضي، تعمل المهام على التوازي، ولكن يمكن إعدادها لتعمل بالتسلسل.
    * كل مهمة تعمل على آلة افتراضية جديدة تسمى **Runner**. يمكنك تحديد نظام التشغيل (مثل `ubuntu-latest`).

4.  **Step (الخطوة):**
    * كل مهمة هي عبارة عن سلسلة من الخطوات.
    * الخطوة يمكن أن تكون إما **أمرًا في سطر الأوامر** أو **Action جاهزًا**.

5.  **Action (الإجراء):**
    * هو قطعة كود قابلة لإعادة الاستخدام تؤدي مهمة معقدة ولكنها شائعة. يوفر مجتمع GitHub آلاف الإجراءات الجاهزة.
    * **أمثلة:**
        * `actions/checkout@v4`: لسحب نسخة من كود مستودعك إلى الـ Runner.
        * `actions/setup-node@v4`: لإعداد بيئة Node.js بإصدار معين.

---
### 📝 3. مثال على ملف سير عمل بسيط
هذا مثال على ملف `main.yml` يوضح هذه المفاهيم.

**.github/workflows/main.yml**
```yaml
# اسم سير العمل الذي يظهر في واجهة GitHub
name: Simple CI Workflow

# الحدث الذي يحفز سير العمل
on:
  push:
    branches: [ main ] # يعمل فقط عند الدفع إلى فرع main

# قائمة بالمهام التي سيتم تنفيذها
jobs:
  # اسم المهمة الأولى
  build:
    # نظام التشغيل الذي ستعمل عليه المهمة
    runs-on: ubuntu-latest

    # قائمة بالخطوات داخل المهمة
    steps:
      # الخطوة الأولى: استخدام Action جاهز لسحب الكود
      - name: Checkout repository code
        uses: actions/checkout@v4

      # الخطوة الثانية: تشغيل أمر بسيط في سطر الأوامر
      - name: Run a one-line script
        run: echo "Hello, world!"

      # الخطوة الثالثة: تشغيل أمر متعدد الأسطر
      - name: Run a multi-line script
        run: |
          echo "This is the first line."
          echo "This is the second line."
```
---
