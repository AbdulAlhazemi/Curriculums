## 📬 الوحدة 1: أساسيات طوابير الرسائل

### 📘 الدرس 4: لوحة تحكم RabbitMQ (Management UI)

#### 🧠 **ماذا ستتعلم**
* ما هي واجهة إدارة RabbitMQ وما فائدتها.
* كيفية استكشاف الأقسام الرئيسية: التبادلات (Exchanges)، الطوابير (Queues)، والروابط (Bindings).
* كيفية نشر رسالة اختبار يدويًا من الواجهة.
* كيفية فحص الرسائل الموجودة في طابور.

---
### 🖥️ 1. ما هي واجهة الإدارة؟
تأتي RabbitMQ مع واجهة مستخدم رسومية (GUI) تعمل على الويب، وهي مصممة لإدارة ومراقبة وسيط الرسائل (broker). إنها طريقة مرئية لرؤية كل المفاهيم التي تحدثنا عنها (التبادلات، الطوابير، إلخ) وهي تعمل في الوقت الفعلي.

**في بيئة التعلم الخاصة بنا:** يمكنك افتراض أن RabbitMQ وواجهة الإدارة الخاصة به تعمل بالفعل. يمكنك الوصول إليها عبر عنوان URL محدد (مثل `http://localhost:15672`).

> **ببساطة:** واجهة الإدارة هي بمثابة **"غرفة التحكم"** لمكتب البريد، حيث يمكنك رؤية جميع مراكز الفرز، صناديق البريد، عدد الرسائل في كل منها، ومراقبة حركة البريد.

---
### 🧭 2. استكشاف الواجهة
عند تسجيل الدخول (عادةً بـ `guest`/`guest`)، سترى عدة علامات تبويب:

* **Exchanges (التبادلات):**
    * يعرض هذا القسم قائمة بجميع التبادلات الموجودة. ستلاحظ أن RabbitMQ ينشئ بعض التبادلات الافتراضية تلقائيًا (مثل `amq.direct`, `amq.topic`). هنا يمكنك إنشاء تبادلات جديدة.
* **Queues (الطوابير):**
    * يعرض قائمة بجميع الطوابير. سترى معلومات مهمة مثل عدد الرسائل الجاهزة للاستهلاك (`Ready`) وعدد الرسائل التي يتم معالجتها حاليًا (`Unacked`). هنا يمكنك إنشاء طوابير جديدة.
* **Admin (الإدارة):**
    * يستخدم لإدارة المستخدمين والأذونات والسياسات.

---
### ⚙️ 3. جولة عملية: إرسال واستقبال رسالة
لنقم بإنشاء دورة رسائل كاملة يدويًا لفهم كيفية عمل الأجزاء معًا.

#### **الخطوة 1: إنشاء طابور (Queue)**
1.  اذهب إلى علامة التبويب **Queues**.
2.  ابحث عن قسم "Add a new queue".
3.  في حقل "Name"، اكتب اسمًا للطابور، مثل `my-test-queue`.
4.  اترك باقي الخيارات على إعداداتها الافتراضية واضغط على **Add queue**.

#### **الخطوة 2: إنشاء تبادل (Exchange)**
1.  اذهب إلى علامة التبويب **Exchanges**.
2.  في قسم "Add a new exchange"، اكتب اسمًا للتبادل، مثل `my-test-exchange`.
3.  من قائمة "Type"، اختر `direct`. (هذا النوع يوجه الرسائل بناءً على تطابق تام لمفتاح التوجيه).
4.  اضغط على **Add exchange**.

#### **الخطوة 3: إنشاء الرابط (Binding)**
1.  انقر على اسم التبادل الذي أنشأته (`my-test-exchange`).
2.  ابحث عن قسم **Bindings**.
3.  في حقل "To queue"، اختر `my-test-queue`.
4.  في حقل "Routing key"، اكتب مفتاحًا، مثل `info`.
5.  اضغط على **Bind**.
    * لقد أنشأت الآن قاعدة تقول: "يا `my-test-exchange`، أي رسالة تستقبلها بمفتاح توجيه `info`، أرسلها إلى `my-test-queue`".

#### **الخطوة 4: نشر رسالة (Publish Message)**
1.  من نفس صفحة التبادل، ابحث عن قسم **Publish message**.
2.  في حقل **Routing key**، اكتب `info` (ليتطابق مع الربط الذي أنشأته).
3.  في حقل **Payload**، اكتب رسالة بصيغة JSON، مثل `{"message": "Hello from the Management UI!"}`.
4.  اضغط على **Publish message**.

#### **الخطوة 5: فحص الطابور**
1.  اذهب مرة أخرى إلى علامة التبويب **Queues**. يجب أن ترى أن `my-test-queue` لديها الآن رسالة واحدة (`1`) في عمود `Ready`.
2.  انقر على اسم الطابور `my-test-queue`.
3.  ابحث عن قسم **Get messages**. انقر على زر **Get Message(s)**.
4.  سترى الآن حمولة (payload) الرسالة التي أرسلتها! هذا يحاكي ما يفعله المستهلك عندما يسحب رسالة من الطابور.

---
