## ⛓️ الوحدة 3: هياكل البيانات والخوارزميات المتقدمة

### 📘 الدرس 2: خوارزميات استعراض الرسوم البيانية (BFS & DFS)

#### 🧠 **ماذا ستتعلم**
* ما هو استعراض الرسوم البيانية (Graph Traversal).
* كيفية عمل خوارزمية البحث بالعرض أولاً (Breadth-First Search - BFS).
* كيفية عمل خوارزمية البحث بالعمق أولاً (Depth-First Search - DFS).
* الفروقات الرئيسية بينهما ومتى نستخدم كل واحدة.

---
### 📝 1. ما هو استعراض الرسوم البيانية؟
هو عملية المرور على جميع العُقد (Vertices) في الرسم البياني بطريقة منهجية ومنظمة. على عكس هياكل البيانات الخطية أو الأشجار، يمكن أن تحتوي الرسوم البيانية على حلقات (cycles)، لذا نحتاج إلى طريقة لتتبع العُقد التي تمت زيارتها بالفعل لتجنب الدخول في حلقة لا نهائية.

---
### 🌊 2. البحث بالعرض أولاً (Breadth-First Search - BFS)
تستكشف هذه الخوارزمية الرسم البياني **مستوى بمستوى**. تبدأ من عقدة معينة، ثم تزور جميع جيرانها المباشرين، ثم جيران جيرانها، وهكذا.

* **المبدأ:** استكشاف الجيران الأقرب أولاً.
* **بنية البيانات المستخدمة:** **الصف (Queue)** لتتبع العقد التي يجب زيارتها تالياً.

#### **كيف تعمل BFS:**
1.  أضف عقدة البداية إلى الصف (Queue) وعلّمها كـ "تمت زيارتها".
2.  طالما أن الصف ليس فارغًا:
    * أخرج عقدة من بداية الصف (dequeue).
    * قم بزيارة جميع جيرانها الذين لم تتم زيارتهم بعد.
    * أضف هؤلاء الجيران إلى نهاية الصف وعلّمهم كـ "تمت زيارتهم".

#### **مثال تطبيقي لـ BFS:**
```javascript
function bfs(graph, startNode) {
  let queue = [startNode];
  let visited = new Set([startNode]);

  while (queue.length > 0) {
    let currentNode = queue.shift(); // Dequeue
    console.log(currentNode); // "Visit" the node

    for (let neighbor of graph[currentNode]) {
      if (!visited.has(neighbor)) {
        visited.add(neighbor);
        queue.push(neighbor); // Enqueue
      }
    }
  }
}
```

---
### 🌲 3. البحث بالعمق أولاً (Depth-First Search - DFS)
تستكشف هذه الخوارزمية الرسم البياني بالذهاب **إلى أعمق نقطة ممكنة** في فرع معين قبل العودة (backtracking) واستكشاف فرع آخر.

* **المبدأ:** استكشاف أبعد ما يمكن في مسار واحد أولاً.
* **بنية البيانات المستخدمة:** **المكدس (Stack)**، والذي يتم تنفيذه غالبًا ضمنيًا باستخدام **العودية (Recursion)**.

#### **كيف تعمل DFS:**
1.  ابدأ من عقدة معينة وعلّمها كـ "تمت زيارتها".
2.  لكل جار من جيرانها، إذا لم تتم زيارته، استدعِ الدالة `dfs` عليه بشكل عودي.
3.  عندما تصل إلى طريق مسدود (عقدة ليس لها جيران لم تتم زيارتهم)، تعود الدالة للخلف (backtrack) إلى العقدة السابقة وتستمر في استكشاف الفروع الأخرى.

#### **مثال تطبيقي لـ DFS (باستخدام العودية):**
```javascript
function dfs(graph, startNode, visited = new Set()) {
  console.log(startNode); // "Visit" the node
  visited.add(startNode);

  for (let neighbor of graph[startNode]) {
    if (!visited.has(neighbor)) {
      dfs(graph, neighbor, visited);
    }
  }
}
```

---
### ⚖️ 4. BFS مقابل DFS

| الخاصية | البحث بالعرض أولاً (BFS) | البحث بالعمق أولاً (DFS) |
| :--- | :--- | :--- |
| **بنية البيانات** | الصف (Queue) | المكدس (Stack) أو العودية |
| **آلية العمل** | يزور مستوى بمستوى (كالأمواج). | يذهب لأعمق نقطة ثم يعود (كالمتاهة). |
| **إيجاد أقصر مسار** | **ممتاز** لإيجاد أقصر مسار في الرسوم البيانية غير الموزونة. | ليس مضمونًا لإيجاد أقصر مسار. |
| **استهلاك الذاكرة** | يمكن أن يستهلك ذاكرة كبيرة إذا كان الرسم البياني واسعًا. | يستهلك ذاكرة أقل بشكل عام (يعتمد على عمق المسار). |
| **حالات الاستخدام** | الشبكات الاجتماعية (إيجاد الأصدقاء من المستوى 1، 2..)، البحث في الشبكات. | حل المتاهات، فحص الاتصال في الرسم البياني، الترتيب الطوبولوجي (Topological Sort). |

---

