## 🧠 الوحدة 2: الخوارزميات الأساسية (Core Algorithms)

### 📘 الدرس 6: خوارزمية الفرز بالإدراج (Insertion Sort)

#### 🧠 **ماذا ستتعلم**
* فهم خوارزمية الفرز بالإدراج.
* كيفية عملها خطوة بخطوة.
* كتابة دالة `insertionSort` بلغة جافاسكريبت.
* تحليل تعقيد الخوارزمية.

***

### 📝 1. ما هو الفرز بالإدراج؟
الفرز بالإدراج هو خوارزمية فرز بسيطة تعمل على **بناء مصفوفة مرتبة بشكل تدريجي**، عنصرًا تلو الآخر. تتخيل الخوارزمية أن الجزء الأول من المصفوفة مرتب (في البداية يكون عنصرًا واحدًا فقط)، ثم تأخذ كل عنصر من الجزء غير المرتب وتدرجه في المكان الصحيح داخل الجزء المرتب.

***

### 👣 2. كيف تعمل خوارزمية الفرز بالإدراج؟
1.  تبدأ من العنصر الثاني في المصفوفة (عند المؤشر 1).
2.  تقارن هذا العنصر ("المفتاح") مع العناصر السابقة له في الجزء المرتب.
3.  إذا كان العنصر السابق أكبر من "المفتاح"، يتم إزاحته خطوة إلى اليمين.
4.  تستمر عملية الإزاحة حتى تجد المكان الصحيح لـ "المفتاح" (إما في البداية أو خلف عنصر أصغر منه).
5.  تكرر العملية مع العنصر التالي، وتستمر حتى نهاية المصفوفة.

***

### 📝 3. مثال على خوارزمية الفرز بالإدراج:

```javascript
function insertionSort(arr) {
  for (let i = 1; i < arr.length; i++) {
    let key = arr[i]; // العنصر الذي نريد إدراجه
    let j = i - 1;

    // تحريك العناصر الأكبر من "المفتاح" خطوة إلى اليمين
    // لإفساح المجال لإدراج المفتاح
    while (j >= 0 && arr[j] > key) {
      arr[j + 1] = arr[j];
      j--;
    }
    
    // إدراج العنصر في المكان الصحيح
    arr[j + 1] = key;
  }
  return arr;
}
```

***

### 📈 4. تحليل التعقيد الزمني
* **أسوأ حالة (Worst Case):** $O(n^2)$ - تحدث عندما تكون المصفوفة مرتبة بشكل عكسي.
* **أفضل حالة (Best Case):** $O(n)$ - تحدث عندما تكون المصفوفة مرتبة بالفعل (لأن الحلقة الداخلية لن تعمل).
* **متوسط الحالة (Average Case):** $O(n^2)$ - تتطلب مقارنات وإزاحات متعددة.

***

### 💡 5. مميزات وعيوب الفرز بالإدراج

| المميزات | العيوب |
| :--- | :--- |
| بسيطة وسهلة التطبيق والفهم. | بطيئة مع المصفوفات الكبيرة. |
| فعالة جدًا مع القوائم الصغيرة أو شبه المرتبة. | غير مناسبة للقوائم الكبيرة جدًا. |
| تعمل في مكانها مباشرة (In-place). | أقل كفاءة من خوارزميات الفرز المتقدمة. |

---

### 🛠️ جرب بنفسك
* جرّب كتابة دالة `insertionSort` بنفسك.
* خذ مصفوفة صغيرة مثل `[8, 2, 5, 1]` وتتبع خطوات إدراج كل عنصر في مكانه الصحيح على الورق.

---

