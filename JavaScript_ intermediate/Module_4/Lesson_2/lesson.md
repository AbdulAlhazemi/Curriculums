# الوحدة 4: البرمجة الشيئية في جافاسكريبت (OOP)

## الدرس 2: الدوال البانية (Constructor Functions)


🧠 **ماذا ستتعلم**
*	ما هي الدوال البانية (constructor functions)
*	كيفية إنشاء الكائنات باستخدام الدوال البانية
*	الكلمة المفتاحية `new` ودورها
*	الفروقات بين الدوال البانية والأصناف (classes)

---

🏗️ **1. ما هي الدالة البانية؟**

الدالة البانية هي دالة خاصة تُستخدم لإنشاء عدة كائنات متشابهة.

حسب الاصطلاح، تبدأ أسماء الدوال البانية بحرف كبير.

---

👨‍💻 **2. إنشاء الكائنات باستخدام الدوال البانية**
```javascript
function Car(make, color) {
  this.make = make;
  this.color = color;
  this.drive = function() {
    console.log(`Driving a ${this.color} ${this.make}`);
  };
}

const myCar = new Car("Toyota", "red");
myCar.drive(); // الناتج: Driving a red Toyota
```

---

🔑 **3. ماذا تفعل الكلمة المفتاحية `new`؟**

عندما تستدعي دالة بانية مع `new`، تقوم جافاسكريبت بالتالي:
*	إنشاء كائن جديد فارغ
*	تعيين `this` داخل الدالة إلى الكائن الجديد
*	تشغيل كود الدالة البانية
*	إرجاع الكائن الجديد تلقائيًا

---

⚠️ **4. بدون `new`**

استدعاء دالة بانية بدون `new` لن ينشئ كائنًا جديدًا كما هو متوقع:
```javascript
const myCar = Car("Toyota", "red"); // سيُسند undefined إلى myCar
console.log(myCar); // الناتج: undefined
```
`this` داخل `Car` تشير إلى الكائن العام (global object) (أو `undefined` في الوضع الصارم strict mode)، وليس إلى كائن جديد.

---

🧠 **النقاط الرئيسية**
*	الدوال البانية تمكنك من إنشاء العديد من الكائنات المتشابهة.
*	استخدم دائمًا `new` عند استدعاء دالة بانية.
*	داخل الدوال البانية، تشير `this` إلى الكائن الجديد الذي يتم إنشاؤه.

---