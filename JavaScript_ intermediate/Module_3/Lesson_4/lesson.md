# الوحدة 3: دوال المصفوفات المتقدمة

## الدرس 4: تسلسل الدوال (Chaining Methods)

---

🧠 **ماذا ستتعلم**
*	كيفية دمج عدة دوال مصفوفات في سطر واحد
*	أفضل الممارسات لكتابة تسلسل دوال نظيف وسهل القراءة
*	أمثلة عملية لتصفية البيانات وتحويلها وتقليلها على خطوات

---

🔗 **1. ما هو تسلسل الدوال (Method Chaining)؟**

التسلسل يعني استدعاء دالة تلو الأخرى، مباشرة على نتيجة الدالة السابقة.

هذا يسمح لك ببناء منطق قوي وسهل القراءة في تعبير واحد.

---

🧪 **مثال: بدون تسلسل**
```javascript
const numbers = [1, 2, 3, 4, 5];

const doubled = numbers.map(n => n * 2);
const evens = doubled.filter(n => n % 2 === 0);

console.log(evens); // الناتج: [2, 4, 6, 8, 10]
```

---

🔗 **مثال: مع التسلسل**
```javascript
const numbers = [1, 2, 3, 4, 5];

const evens = numbers
  .map(n => n * 2)
  .filter(n => n % 2 === 0);

console.log(evens); // الناتج: [2, 4, 6, 8, 10]
```

🧠 **نصيحة للقراءة:** ضع كل دالة على سطر خاص بها للوضوح.

---

🧮 **2. مثال من الواقع: قائمة المستخدمين**
```javascript
const users = [
  { name: "Alice", age: 22 },
  { name: "Bob", age: 17 },
  { name: "Carol", age: 30 }
];

const names = users
  .filter(user => user.age >= 18)      // الاحتفاظ بالبالغين
  .map(user => user.name)              // الحصول على أسمائهم
  .sort();                            // ترتيب أبجدي

console.log(names); // الناتج: ["Alice", "Carol"]
```

---

⚠️ **3. الترتيب مهم**

فكر دائمًا فيما تُرجعه كل دالة قبل تسلسل الدالة التالية.
```javascript
const result = numbers // بافتراض أن numbers هي [1, 2, 3, 4, 5] من المثال السابق
  .filter(n => n > 5)   // تُرجع مصفوفة (في هذه الحالة، فارغة [])
  .reduce((sum, n) => sum + n, 0); // تُرجع رقمًا (ناتج جمع عناصر المصفوفة، وهو 0 هنا)

console.log(result); // الناتج: 0 (مجموع الأرقام المصفاة)
```

---

🧠 **النقاط الرئيسية**
*	قم بتسلسل دوال مثل `()map.`، و `()filter.`، و `()reduce.` لكتابة كود أنظف.
*	انتبه دائمًا لما تُرجعه كل خطوة.
*	استخدم التسلسل لتجنب المتغيرات الوسيطة غير الضرورية.

---
