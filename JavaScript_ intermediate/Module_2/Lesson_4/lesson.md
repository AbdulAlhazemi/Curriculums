# الوحدة 2: الأحداث والتفاعلية

## الدرس 4: كائنات الحدث وتفويض الأحداث

---

🧠 **ماذا ستتعلم**
*	كيف يوفر لك كائن الحدث (event object) تفاصيل حول الحدث
*	ما هو تفويض الأحداث (event delegation) وكيفية استخدامه بكفاءة
*	متى نستخدم التفويض بدلاً من إضافة مستمعات لكل عنصر

---

🔍 **1. كائن الحدث (Event Object)**

عند وقوع حدث، تمرر جافاسكريبت كائن الحدث إلى دالة معالج الحدث. يحتوي هذا الكائن على معلومات مفيدة مثل:
*	نوع الحدث (`click`، `submit`، إلخ.)
*	العنصر الذي أثار الحدث
*	معلومات لوحة المفاتيح أو الفأرة

مثال:
```javascript
document.addEventListener("click", (event) => {
  console.log("You clicked:", event.target);
});
```
هنا، `event.target` هو العنصر الذي تم النقر عليه فعليًا.

---

📦 **2. الخصائص الشائعة لكائن الحدث**

| الخاصية                 | الوصف                                                     |
| :---------------------- | :------------------------------------------------------- |
| `event.type`            | نوع الحدث (مثال: `"click"`)                             |
| `event.target`          | العنصر الذي أثار (trigger) الحدث                         |
| `event.currentTarget`   | العنصر الذي تم إرفاق المستمع (listener) به                 |
| `event.preventDefault()`  | يوقف السلوك الافتراضي للمتصفح                             |
| `event.stopPropagation()` | يوقف "فوران" (bubbling) الحدث لأعلى                      |

---

🔁 **3. ما هو تفويض الأحداث (Event Delegation)؟**

تفويض الأحداث هو نمط تقوم فيه بإرفاق مستمع حدث واحد لعنصر أب بدلاً من كل عنصر ابن.

يعمل هذا بسبب فوران الأحداث (event bubbling) — حيث ترتفع الأحداث عبر DOM بعد إطلاقها على هدفها.

---

🧪 **مثال: النقر على أي عنصر في القائمة**

بدلاً من هذا:
```javascript
document.querySelectorAll("li").forEach((item) => {
  item.addEventListener("click", () => {
    console.log("Clicked item");
  });
});
```

استخدم التفويض هكذا:
```javascript
const ul = document.querySelector("ul");

ul.addEventListener("click", (event) => {
  if (event.target.tagName === "LI") {
    console.log("You clicked:", event.target.textContent);
  }
});
```
✅ مستمع حدث واحد يتعامل مع جميع عناصر القائمة — حتى الجديدة التي تضاف لاحقًا!

---

📈 **4. فوائد تفويض الأحداث**
*	**الأداء:** مستمع واحد بدلاً من العديد
*	**قابلية التوسع:** يعمل مع المحتوى الديناميكي (العناصر المضافة لاحقًا)
*	**كود أنظف:** يقلل من التكرار واستخدام الذاكرة


---

🧠 **النقاط الرئيسية**
*	كائن الحدث يوفر معلومات غنية حول ما حدث.
*	استخدم `event.target` لمعرفة أي عنصر أثار الحدث.
*	تفويض الأحداث قوي للتعامل مع العديد من العناصر أو العناصر الديناميكية.

---