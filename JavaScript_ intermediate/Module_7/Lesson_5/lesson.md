# الوحدة 7: أنماط كتابة الكود المتقدمة
**(Advanced Code Patterns)**

## الدرس 5: التكوين (Composition) مقابل الوراثة (Inheritance)

🧠 **ماذا ستتعلم**
* مفهوم الوراثة (Inheritance) في البرمجة الكائنية.
* مفهوم التكوين (Composition) وكيف يختلف عن الوراثة.
* مميزات وعيوب كل منهما.
* أمثلة عملية على التكوين والوراثة في جافاسكريبت.

---

### 🧾 1. ما هي الوراثة (Inheritance)؟
**الوراثة** هي آلية تسمح لفئة (Class) بأن ترث خصائص وسلوكيات فئة أخرى، مما يمكّن إعادة استخدام الكود والتوسع في الوظائف.

**مثال:**
```javascript
class Animal {
  speak() {
    console.log('الحيوان يصدر صوتًا');
  }
}

class Dog extends Animal {
  speak() {
    console.log('الكلب ينبح');
  }
}

const dog = new Dog();
dog.speak(); // الكلب ينبح
```
---

### 🧠 2. ما هو التكوين (Composition)؟
**التكوين** هو تجميع وظائف أو خصائص من كائنات أو وظائف متعددة لإنشاء كائن جديد بدلاً من الاعتماد على الوراثة.

**مثال:**
```javascript
function canSpeak(state) {
  return {
    speak: () => console.log(state.sound)
  };
}

function createDog() {
  const state = { sound: 'الكلب ينبح' };
  return Object.assign({}, canSpeak(state));
}

const dog = createDog();
dog.speak(); // الكلب ينبح
```
---

### ⚖️ 3. مقارنة بين الوراثة والتكوين
| النقطة | الوراثة (Inheritance) | التكوين (Composition) |
| :--- | :--- | :--- |
| **الهيكلية** | علاقة “is-a” (هو نوع من) | علاقة “has-a” (يحتوي على) |
| **إعادة الاستخدام** | من خلال التوريث | من خلال تجميع الوظائف |
| **المرونة** | أقل مرونة في بعض الأحيان | أكثر مرونة وسهولة في التعديل |
| **تعقيد الكود** | يمكن أن يؤدي لتداخل معقد | يسهل التحكم به وصيانته |

---

### 🚀 4. متى تستخدم التكوين؟
* عندما تحتاج إلى مرونة أكثر.
* لتجنب مشاكل الوراثة العميقة أو المعقدة.
* عند بناء كائنات تجمع خصائص وسلوكيات متعددة.

---

### 🎉 ماذا بعد؟
**تهانينا!** لقد أكملت الوحدة 7 وأنماط كتابة الكود المتقدمة. يمكنك الآن تطبيق هذه الأنماط لتحسين جودة كود جافاسكريبت الخاص بك.

---