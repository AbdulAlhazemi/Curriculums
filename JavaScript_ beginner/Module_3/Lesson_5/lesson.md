# الوحدة 3: الدوال (Functions)

## الدرس 5: مفاهيم الرفع (Hoisting)

🧠 **ماذا ستتعلم**
*	ما هو الرفع (hoisting) في جافاسكريبت
*	أي أجزاء من الكود الخاص بك يتم رفعها
*	كيف يختلف سلوك تعريفات الدوال وتعبيرات الدوال
*	كيف يتصرف `var`، `let`، و `const` مع الرفع

---

🚀 **1. ما هو الرفع (Hoisting)؟**

الرفع (Hoisting) هو سلوك جافاسكريبت المتمثل في نقل التعريفات (declarations) إلى أعلى نطاقها (scope) قبل تشغيل الكود.

هذا يعني:
*	يتم معالجة تعريفات المتغيرات والدوال أولاً
*	يمكنك استخدامها قبل ظهورها في الكود (أحيانًا)

---

📁 **2. تعريف الدالة يتم رفعه (Hoisted)**

يمكنك استدعاء دالة مُعرفة باستخدام تعريف الدالة (`function declaration`) قبل ظهورها في الكود الخاص بك.
```javascript
sayHello();

function sayHello() {
  console.log("Hello!");
}
```
✅ هذا يعمل لأن الدالة بأكملها يتم رفعها إلى الأعلى.

---

🚫 **3. تعبير الدالة لا يتم رفعه بالكامل**

تعبيرات الدوال لا يتم رفعها بقيمتها — يتم رفع المتغير فقط (كـ `undefined`).
```javascript
sayBye(); // ❌ خطأ نوع (TypeError)

const sayBye = function() {
  console.log("Bye!");
};
```
هذا يفشل لأن `sayBye` تكون `undefined` عندما يصل الكود إلى ذلك السطر.

---

📦 **4. رفع المتغيرات: `var` مقابل `let` و `const`**
```javascript
console.log(x); // الناتج: undefined
var x = 5;
```
مع `var`، يتم رفع المتغير ولكن ليس قيمته. لذا `x` موجود ولكنه `undefined` في البداية.

```javascript
console.log(y); // ❌ خطأ مرجعي (ReferenceError)
let y = 10;
```
مع `let` و `const`، تحصل على `ReferenceError` لأنه يتم رفعهما ولكنهما يوضعان في "منطقة ميتة مؤقتة" (temporal dead zone) حتى يصل الكود إلى سطر تعريفهما.

---

🧪 **5. جرب بنفسك**
```javascript
greet(); // ✅ يعمل

function greet() {
  console.log("Hi!");
}

welcome(); // ❌ خطأ

const welcome = function() {
  console.log("Welcome!");
};
```

---

🧠 **النقاط الرئيسية**
*	تعريفات الدوال يتم رفعها بالكامل — يمكنك استدعاؤها قبل ظهورها.
*	تعبيرات الدوال لا يتم رفعها مع الكود الخاص بها.
*	متغيرات `var` يتم رفعها ولكن يتم تهيئتها كـ `undefined`.
*	متغيرات `let` و `const` يتم رفعها ولكن لا يمكن استخدامها حتى يتم الإعلان عنها.

---

🧪 **تحدي تدريبي**
1.	حاول استدعاء دالة مُعرفة باستخدام `function` قبل تعريفها.
2.	حاول استدعاء دالة مخزنة في `const` قبل تعريفها.
3.	حاول طباعة متغير `var`، `let`، و `const` قبل الإعلان عنهم.

تلميح:
```javascript
sayHi(); // يعمل

function sayHi() {
  console.log("Hi!");
}

sayBye(); // خطأ

const sayBye = function() {
  console.log("Bye!");
};

console.log(a); // الناتج: undefined
var a = 10;

console.log(b); // خطأ
let b = 20;
```
---